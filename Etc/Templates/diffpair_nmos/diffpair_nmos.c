
#include <tcl.h>
#include <stdio.h>
#include <stdlib.h>
#include "Gamma/Data/ctree.h"
#include "Gamma/LUT/look_up_table.h"
#include "Gamma/Web/heatmap/heatmap.h"
// Some global pointers to keep reference of the contexts this object manipulates
float *Pconfig_pat_size_target;
float *Pconfig_size;
float *Pconfig_op_iterations;
float *Pconfig_kcl_th;
float *Pconfig_design_feedback_th;
float *Pconfig_kcl_step;
float *Pconfig_fail_on_properties;
float *Pconfig_cgg_factor;
float *Pconfig_cgd_factor;
float *Pconfig_cdd_factor;
float *Pconfig_cdg_factor;
float *Pconfig_cgs_factor;
float *Pconfig_cds_factor;
float *Pconfig_csd_factor;
float *Pconfig_css_factor;
float *Pconfig_shift;
float *Pconfig_factor;
float *Psize_iref;
float *Psize_Lp;
float *Psize_Wp;
float *Psize_Ln;
float *Psize_Wn;
float *Psize_Ls;
float *Pparam_unique;
float *Pparam_inp;
float *Pparam_inn;
float *Pparam_vdd;
float *Pmode_freash_op;
float *Pstatus_index;
float *Pstatus_fail;
float *Pvdd_V;
float *P0_V;
float *Plook_up_tables_pch;
float *Plook_up_tables_nch;
float *Pproperty_Adc;
float *Pproperty_CMRR;
float *Pproperty_PSRR;
float *Pproperty_Rout;
float *Pproperty_BW;
float *Pproperty_ts;
float *Pproperty_Cin;
float *Pproperty_PM;
float *Pproperty_Nt;
float *Pproperty_Nf;
float *Pproperty_fc;
float *Pproperty_TotalNoise;
float *Pproperty_Area;
float *Pproperty_Vos;
float *Pproperty_Power;
float *Pdiffpair_nmos_circuits_PAT;
float *Pdiffpair_nmos_config_pat_size_target;
float *Psize_iref_min;
float *Psize_iref_max;
float *Pdiffpair_nmos_size_iref;
float *Psize_Lp_min;
float *Psize_Lp_max;
float *Pdiffpair_nmos_size_Lp;
float *Psize_Wp_max;
float *Pdiffpair_nmos_size_Wp;
float *Psize_Ln_min;
float *Psize_Ln_max;
float *Pdiffpair_nmos_size_Ln;
float *Psize_Wn_max;
float *Pdiffpair_nmos_size_Wn;
float *Psize_Ls_min;
float *Psize_Ls_max;
float *Pdiffpair_nmos_size_Ls;
float *Psize_iref_step;
float *Psize_Lp_step;
float *Psize_Wp_step;
float *Psize_Ln_step;
float *Psize_Wn_step;
float *Psize_Ls_step;
float *Pdiffpair_nmos_max_Adc;
float *Pdiffpair_nmos_param_unique;
float *Pdiffpair_nmos_pat_size_target;
float *Pdiffpair_nmos_size_iref_step;
float *Pdiffpair_nmos_size_Lp_step;
float *Pdiffpair_nmos_size_Wp_step;
float *Pdiffpair_nmos_size_Ln_step;
float *Pdiffpair_nmos_size_Wn_step;
float *Pdiffpair_nmos_size_Ls_step;
float *Pdiffpair_nmos_mode_freash_op;
float *Pdiffpair_nmos_status_index;
float *Pdiffpair_nmos_config_size_iref;
float *Pdiffpair_nmos_config_size_Lp;
float *Pdiffpair_nmos_config_size_Wp;
float *Pdiffpair_nmos_config_size_Ln;
float *Pdiffpair_nmos_config_size_Wn;
float *Pdiffpair_nmos_config_size_Ls;
float *Pdiffpair_nmos_vdd_V;
float *Pdiffpair_nmos_0_V;
float *Pdiffpair_nmos_status_fail;
float *Pdiffpair_nmos_design_feedback;
float *Pp_1_bin;
float *Pp_1_W;
float *Pp_1_L;
float *Plook_up_tables_pch_binning_LUT;
float *Pp_2_bin;
float *Pp_2_W;
float *Pp_2_L;
float *Pnin_1_bin;
float *Pnin_1_W;
float *Pnin_1_L;
float *Plook_up_tables_nch_binning_LUT;
float *Pnin_2_bin;
float *Pnin_2_W;
float *Pnin_2_L;
float *Pntail_bin;
float *Pntail_W;
float *Pntail_L;
float *Pnref_bin;
float *Pnref_W;
float *Pnref_L;
float *Pdiffpair_nmos_leak;
float *Pdiffpair_nmos_config_op_iterations;
float *Pdiffpair_nmos_config_kcl_th;
float *Pdiffpair_nmos_config_design_feedback_th;
float *Poutp_V;
float *Pp_1_go;
float *Pp_1_gm;
float *Pp_1_gb;
float *Pp_1_Ids;
float *Poutm_V;
float *Pdiffpair_nmos_look_up_tables_pch_go_ss_CONTEXT;
float *Pdiffpair_nmos_look_up_tables_pch_gm_ss_CONTEXT;
float *Pdiffpair_nmos_look_up_tables_pch_gb_ss_CONTEXT;
float *Pdiffpair_nmos_look_up_tables_pch_Ids_ss_CONTEXT;
float *Pp_2_go;
float *Pp_2_gm;
float *Pp_2_gb;
float *Pp_2_Ids;
float *Ptail_V;
float *Pnin_1_go;
float *Pnin_1_gm;
float *Pnin_1_gb;
float *Pnin_1_Ids;
float *Pinp_V;
float *Pdiffpair_nmos_look_up_tables_nch_go_ss_CONTEXT;
float *Pdiffpair_nmos_look_up_tables_nch_gm_ss_CONTEXT;
float *Pdiffpair_nmos_look_up_tables_nch_gb_ss_CONTEXT;
float *Pdiffpair_nmos_look_up_tables_nch_Ids_ss_CONTEXT;
float *Pnin_2_go;
float *Pnin_2_gm;
float *Pnin_2_gb;
float *Pnin_2_Ids;
float *Pinn_V;
float *Pvbias_V;
float *Pntail_go;
float *Pntail_gm;
float *Pntail_gb;
float *Pntail_Ids;
float *Pnref_go;
float *Pnref_gm;
float *Pnref_gb;
float *Pnref_Ids;
float *Pdiffpair_nmos_config_kcl_step;
float *Pdiffpair_nmos_property_Adc;
float *Pdiffpair_nmos_property_CMRR;
float *Pdiffpair_nmos_property_PSRR;
float *Pdiffpair_nmos_config_fail_on_properties;
float *Pdiffpair_nmos_property_Rout;
float *Pp_2_cgg;
float *Pp_2_cgd;
float *Pp_2_cdg;
float *Pp_2_cdd;
float *Pp_1_cgg;
float *Pp_1_cgd;
float *Pp_1_cdg;
float *Pp_1_cdd;
float *Pntail_cgg;
float *Pntail_cgd;
float *Pntail_cdg;
float *Pntail_cdd;
float *Pnref_cgg;
float *Pnref_cgd;
float *Pnref_cdg;
float *Pnref_cdd;
float *Pnin_2_css;
float *Pnin_2_csd;
float *Pnin_2_cds;
float *Pnin_2_cdd;
float *Pnin_1_css;
float *Pnin_1_csd;
float *Pnin_1_cds;
float *Pnin_1_cdd;
float *Pdiffpair_nmos_property_BW;
float *Ps;
float *Pdiffpair_nmos_property_BW_s;
float *Pdiffpair_nmos_p1;
float *Pdiffpair_nmos_p2;
float *Pdiffpair_nmos_property_ts;
float *Pnin_1_cgs;
float *Pnin_1_cgd;
float *Pdiffpair_nmos_property_Cin;
float *Pdiffpair_nmos_property_PM;
float *Pp_1_dNt_dvgs;
float *Pp_1_dNt_dvds;
float *Pp_1_dNt_dvbs;
float *Pp_1_dNt_dl;
float *Pp_1_Nt_unit;
float *P_look_up_tables_pch_thermal_noise_ss_LUT;
float *Pp_1_Nt;
float *Pp_1_dNf_dvgs;
float *Pp_1_dNf_dvds;
float *Pp_1_dNf_dvbs;
float *Pp_1_dNf_dl;
float *Pp_1_Nf_unit;
float *P_look_up_tables_pch_flicker_noise_ss_LUT;
float *Pp_1_Nf;
float *Pp_2_dNt_dvgs;
float *Pp_2_dNt_dvds;
float *Pp_2_dNt_dvbs;
float *Pp_2_dNt_dl;
float *Pp_2_Nt_unit;
float *Pp_2_Nt;
float *Pp_2_dNf_dvgs;
float *Pp_2_dNf_dvds;
float *Pp_2_dNf_dvbs;
float *Pp_2_dNf_dl;
float *Pp_2_Nf_unit;
float *Pp_2_Nf;
float *Pnin_1_dNt_dvgs;
float *Pnin_1_dNt_dvds;
float *Pnin_1_dNt_dvbs;
float *Pnin_1_dNt_dl;
float *Pnin_1_Nt_unit;
float *P_look_up_tables_nch_thermal_noise_ss_LUT;
float *Pnin_1_Nt;
float *Pnin_1_dNf_dvgs;
float *Pnin_1_dNf_dvds;
float *Pnin_1_dNf_dvbs;
float *Pnin_1_dNf_dl;
float *Pnin_1_Nf_unit;
float *P_look_up_tables_nch_flicker_noise_ss_LUT;
float *Pnin_1_Nf;
float *Pnin_2_dNt_dvgs;
float *Pnin_2_dNt_dvds;
float *Pnin_2_dNt_dvbs;
float *Pnin_2_dNt_dl;
float *Pnin_2_Nt_unit;
float *Pnin_2_Nt;
float *Pnin_2_dNf_dvgs;
float *Pnin_2_dNf_dvds;
float *Pnin_2_dNf_dvbs;
float *Pnin_2_dNf_dl;
float *Pnin_2_Nf_unit;
float *Pnin_2_Nf;
float *Pntail_dNt_dvgs;
float *Pntail_dNt_dvds;
float *Pntail_dNt_dvbs;
float *Pntail_dNt_dl;
float *Pntail_Nt_unit;
float *Pntail_Nt;
float *Pntail_dNf_dvgs;
float *Pntail_dNf_dvds;
float *Pntail_dNf_dvbs;
float *Pntail_dNf_dl;
float *Pntail_Nf_unit;
float *Pntail_Nf;
float *Pnref_dNt_dvgs;
float *Pnref_dNt_dvds;
float *Pnref_dNt_dvbs;
float *Pnref_dNt_dl;
float *Pnref_Nt_unit;
float *Pnref_Nt;
float *Pnref_dNf_dvgs;
float *Pnref_dNf_dvds;
float *Pnref_dNf_dvbs;
float *Pnref_dNf_dl;
float *Pnref_Nf_unit;
float *Pnref_Nf;
float *Pdiffpair_nmos_property_Nt;
float *Pdiffpair_nmos_property_Nf;
float *Pdiffpair_nmos_property_fc;
float *Pdiffpair_nmos_property_TotalNoise;
float *Pdiffpair_nmos_property_Area;
float *Pdiffpair_nmos_property_Vos;
float *Pdiffpair_nmos_property_Power;
float *Pdiffpair_nmos_config_shift_Adc;
float *Pdiffpair_nmos_config_factor_Adc;
float *Pdiffpair_nmos_config_shift_CMRR;
float *Pdiffpair_nmos_config_factor_CMRR;
float *Pdiffpair_nmos_config_shift_PSRR;
float *Pdiffpair_nmos_config_factor_PSRR;
float *Pdiffpair_nmos_config_shift_Rout;
float *Pdiffpair_nmos_config_factor_Rout;
float *Pdiffpair_nmos_config_shift_BW;
float *Pdiffpair_nmos_config_factor_BW;
float *Pdiffpair_nmos_config_shift_ts;
float *Pdiffpair_nmos_config_factor_ts;
float *Pdiffpair_nmos_config_shift_Cin;
float *Pdiffpair_nmos_config_factor_Cin;
float *Pdiffpair_nmos_config_shift_PM;
float *Pdiffpair_nmos_config_factor_PM;
float *Pdiffpair_nmos_config_shift_Nt;
float *Pdiffpair_nmos_config_factor_Nt;
float *Pdiffpair_nmos_config_shift_Nf;
float *Pdiffpair_nmos_config_factor_Nf;
float *Pdiffpair_nmos_config_shift_fc;
float *Pdiffpair_nmos_config_factor_fc;
float *Pdiffpair_nmos_config_shift_TotalNoise;
float *Pdiffpair_nmos_config_factor_TotalNoise;
float *Pdiffpair_nmos_config_shift_Area;
float *Pdiffpair_nmos_config_factor_Area;
float *Pdiffpair_nmos_config_shift_Vos;
float *Pdiffpair_nmos_config_factor_Vos;
float *Pdiffpair_nmos_config_shift_Power;
float *Pdiffpair_nmos_config_factor_Power;
float *Pdiffpair_nmos_circuit_breed_id;
float *Pdiffpair_nmos_circuit_breed_target;

float config_pat_size_target;
float config_size;
float config_op_iterations;
float config_kcl_th;
float config_design_feedback_th;
float config_kcl_step;
float config_fail_on_properties;
float config_cgg_factor;
float config_cgd_factor;
float config_cdd_factor;
float config_cdg_factor;
float config_cgs_factor;
float config_cds_factor;
float config_csd_factor;
float config_css_factor;
float config_shift;
float config_factor;
float size_iref;
float size_Lp;
float size_Wp;
float size_Ln;
float size_Wn;
float size_Ls;
float param_unique;
float param_inp;
float param_inn;
float param_vdd;
float mode_freash_op;
float status_index;
float status_fail;
float vdd_V;
float CONST_0_V;
float look_up_tables_pch;
float look_up_tables_nch;
float property_Adc;
float property_CMRR;
float property_PSRR;
float property_Rout;
float property_BW;
float property_ts;
float property_Cin;
float property_PM;
float property_Nt;
float property_Nf;
float property_fc;
float property_TotalNoise;
float property_Area;
float property_Vos;
float property_Power;
float diffpair_nmos_circuits_PAT;
float diffpair_nmos_config_pat_size_target;
float size_iref_min;
float size_iref_max;
float diffpair_nmos_size_iref;
float size_Lp_min;
float size_Lp_max;
float diffpair_nmos_size_Lp;
float size_Wp_max;
float diffpair_nmos_size_Wp;
float size_Ln_min;
float size_Ln_max;
float diffpair_nmos_size_Ln;
float size_Wn_max;
float diffpair_nmos_size_Wn;
float size_Ls_min;
float size_Ls_max;
float diffpair_nmos_size_Ls;
float size_iref_step;
float size_Lp_step;
float size_Wp_step;
float size_Ln_step;
float size_Wn_step;
float size_Ls_step;
float diffpair_nmos_max_Adc;
float diffpair_nmos_param_unique;
float diffpair_nmos_pat_size_target;
float diffpair_nmos_size_iref_step;
float diffpair_nmos_size_Lp_step;
float diffpair_nmos_size_Wp_step;
float diffpair_nmos_size_Ln_step;
float diffpair_nmos_size_Wn_step;
float diffpair_nmos_size_Ls_step;
float diffpair_nmos_mode_freash_op;
float diffpair_nmos_status_index;
float diffpair_nmos_config_size_iref;
float diffpair_nmos_config_size_Lp;
float diffpair_nmos_config_size_Wp;
float diffpair_nmos_config_size_Ln;
float diffpair_nmos_config_size_Wn;
float diffpair_nmos_config_size_Ls;
float diffpair_nmos_vdd_V;
float diffpair_nmos_0_V;
float diffpair_nmos_status_fail;
float diffpair_nmos_design_feedback;
float p_1_bin;
float p_1_W;
float p_1_L;
float look_up_tables_pch_binning_LUT;
float p_2_bin;
float p_2_W;
float p_2_L;
float nin_1_bin;
float nin_1_W;
float nin_1_L;
float look_up_tables_nch_binning_LUT;
float nin_2_bin;
float nin_2_W;
float nin_2_L;
float ntail_bin;
float ntail_W;
float ntail_L;
float nref_bin;
float nref_W;
float nref_L;
float diffpair_nmos_leak;
float diffpair_nmos_config_op_iterations;
float diffpair_nmos_config_kcl_th;
float diffpair_nmos_config_design_feedback_th;
float outp_V;
float p_1_go;
float p_1_gm;
float p_1_gb;
float p_1_Ids;
float outm_V;
float diffpair_nmos_look_up_tables_pch_go_ss_CONTEXT;
float diffpair_nmos_look_up_tables_pch_gm_ss_CONTEXT;
float diffpair_nmos_look_up_tables_pch_gb_ss_CONTEXT;
float diffpair_nmos_look_up_tables_pch_Ids_ss_CONTEXT;
float p_2_go;
float p_2_gm;
float p_2_gb;
float p_2_Ids;
float tail_V;
float nin_1_go;
float nin_1_gm;
float nin_1_gb;
float nin_1_Ids;
float inp_V;
float diffpair_nmos_look_up_tables_nch_go_ss_CONTEXT;
float diffpair_nmos_look_up_tables_nch_gm_ss_CONTEXT;
float diffpair_nmos_look_up_tables_nch_gb_ss_CONTEXT;
float diffpair_nmos_look_up_tables_nch_Ids_ss_CONTEXT;
float nin_2_go;
float nin_2_gm;
float nin_2_gb;
float nin_2_Ids;
float inn_V;
float vbias_V;
float ntail_go;
float ntail_gm;
float ntail_gb;
float ntail_Ids;
float nref_go;
float nref_gm;
float nref_gb;
float nref_Ids;
float diffpair_nmos_config_kcl_step;
float diffpair_nmos_property_Adc;
float diffpair_nmos_property_CMRR;
float diffpair_nmos_property_PSRR;
float diffpair_nmos_config_fail_on_properties;
float diffpair_nmos_property_Rout;
float p_2_cgg;
float p_2_cgd;
float p_2_cdg;
float p_2_cdd;
float p_1_cgg;
float p_1_cgd;
float p_1_cdg;
float p_1_cdd;
float ntail_cgg;
float ntail_cgd;
float ntail_cdg;
float ntail_cdd;
float nref_cgg;
float nref_cgd;
float nref_cdg;
float nref_cdd;
float nin_2_css;
float nin_2_csd;
float nin_2_cds;
float nin_2_cdd;
float nin_1_css;
float nin_1_csd;
float nin_1_cds;
float nin_1_cdd;
float diffpair_nmos_property_BW;
float s;
float diffpair_nmos_property_BW_s;
float diffpair_nmos_p1;
float diffpair_nmos_p2;
float diffpair_nmos_property_ts;
float nin_1_cgs;
float nin_1_cgd;
float diffpair_nmos_property_Cin;
float diffpair_nmos_property_PM;
float p_1_dNt_dvgs;
float p_1_dNt_dvds;
float p_1_dNt_dvbs;
float p_1_dNt_dl;
float p_1_Nt_unit;
float _look_up_tables_pch_thermal_noise_ss_LUT;
float p_1_Nt;
float p_1_dNf_dvgs;
float p_1_dNf_dvds;
float p_1_dNf_dvbs;
float p_1_dNf_dl;
float p_1_Nf_unit;
float _look_up_tables_pch_flicker_noise_ss_LUT;
float p_1_Nf;
float p_2_dNt_dvgs;
float p_2_dNt_dvds;
float p_2_dNt_dvbs;
float p_2_dNt_dl;
float p_2_Nt_unit;
float p_2_Nt;
float p_2_dNf_dvgs;
float p_2_dNf_dvds;
float p_2_dNf_dvbs;
float p_2_dNf_dl;
float p_2_Nf_unit;
float p_2_Nf;
float nin_1_dNt_dvgs;
float nin_1_dNt_dvds;
float nin_1_dNt_dvbs;
float nin_1_dNt_dl;
float nin_1_Nt_unit;
float _look_up_tables_nch_thermal_noise_ss_LUT;
float nin_1_Nt;
float nin_1_dNf_dvgs;
float nin_1_dNf_dvds;
float nin_1_dNf_dvbs;
float nin_1_dNf_dl;
float nin_1_Nf_unit;
float _look_up_tables_nch_flicker_noise_ss_LUT;
float nin_1_Nf;
float nin_2_dNt_dvgs;
float nin_2_dNt_dvds;
float nin_2_dNt_dvbs;
float nin_2_dNt_dl;
float nin_2_Nt_unit;
float nin_2_Nt;
float nin_2_dNf_dvgs;
float nin_2_dNf_dvds;
float nin_2_dNf_dvbs;
float nin_2_dNf_dl;
float nin_2_Nf_unit;
float nin_2_Nf;
float ntail_dNt_dvgs;
float ntail_dNt_dvds;
float ntail_dNt_dvbs;
float ntail_dNt_dl;
float ntail_Nt_unit;
float ntail_Nt;
float ntail_dNf_dvgs;
float ntail_dNf_dvds;
float ntail_dNf_dvbs;
float ntail_dNf_dl;
float ntail_Nf_unit;
float ntail_Nf;
float nref_dNt_dvgs;
float nref_dNt_dvds;
float nref_dNt_dvbs;
float nref_dNt_dl;
float nref_Nt_unit;
float nref_Nt;
float nref_dNf_dvgs;
float nref_dNf_dvds;
float nref_dNf_dvbs;
float nref_dNf_dl;
float nref_Nf_unit;
float nref_Nf;
float diffpair_nmos_property_Nt;
float diffpair_nmos_property_Nf;
float diffpair_nmos_property_fc;
float diffpair_nmos_property_TotalNoise;
float diffpair_nmos_property_Area;
float diffpair_nmos_property_Vos;
float diffpair_nmos_property_Power;
float diffpair_nmos_config_shift_Adc;
float diffpair_nmos_config_factor_Adc;
float diffpair_nmos_config_shift_CMRR;
float diffpair_nmos_config_factor_CMRR;
float diffpair_nmos_config_shift_PSRR;
float diffpair_nmos_config_factor_PSRR;
float diffpair_nmos_config_shift_Rout;
float diffpair_nmos_config_factor_Rout;
float diffpair_nmos_config_shift_BW;
float diffpair_nmos_config_factor_BW;
float diffpair_nmos_config_shift_ts;
float diffpair_nmos_config_factor_ts;
float diffpair_nmos_config_shift_Cin;
float diffpair_nmos_config_factor_Cin;
float diffpair_nmos_config_shift_PM;
float diffpair_nmos_config_factor_PM;
float diffpair_nmos_config_shift_Nt;
float diffpair_nmos_config_factor_Nt;
float diffpair_nmos_config_shift_Nf;
float diffpair_nmos_config_factor_Nf;
float diffpair_nmos_config_shift_fc;
float diffpair_nmos_config_factor_fc;
float diffpair_nmos_config_shift_TotalNoise;
float diffpair_nmos_config_factor_TotalNoise;
float diffpair_nmos_config_shift_Area;
float diffpair_nmos_config_factor_Area;
float diffpair_nmos_config_shift_Vos;
float diffpair_nmos_config_factor_Vos;
float diffpair_nmos_config_shift_Power;
float diffpair_nmos_config_factor_Power;
float diffpair_nmos_circuit_breed_id;
float diffpair_nmos_circuit_breed_target;

// The compiled function
static int tcl_gamma_diffpair_nmos_import_cmd(ClientData clientData,Tcl_Interp *interp,int argc,char *argv[]) {
    Gamma_diffpair_nmos_Init(interp);
    config_pat_size_target=*Pconfig_pat_size_target;
    config_size=*Pconfig_size;
    config_op_iterations=*Pconfig_op_iterations;
    config_kcl_th=*Pconfig_kcl_th;
    config_design_feedback_th=*Pconfig_design_feedback_th;
    config_kcl_step=*Pconfig_kcl_step;
    config_fail_on_properties=*Pconfig_fail_on_properties;
    config_cgg_factor=*Pconfig_cgg_factor;
    config_cgd_factor=*Pconfig_cgd_factor;
    config_cdd_factor=*Pconfig_cdd_factor;
    config_cdg_factor=*Pconfig_cdg_factor;
    config_cgs_factor=*Pconfig_cgs_factor;
    config_cds_factor=*Pconfig_cds_factor;
    config_csd_factor=*Pconfig_csd_factor;
    config_css_factor=*Pconfig_css_factor;
    config_shift=*Pconfig_shift;
    config_factor=*Pconfig_factor;
    size_iref=*Psize_iref;
    size_Lp=*Psize_Lp;
    size_Wp=*Psize_Wp;
    size_Ln=*Psize_Ln;
    size_Wn=*Psize_Wn;
    size_Ls=*Psize_Ls;
    param_unique=*Pparam_unique;
    param_inp=*Pparam_inp;
    param_inn=*Pparam_inn;
    param_vdd=*Pparam_vdd;
    mode_freash_op=*Pmode_freash_op;
    status_index=*Pstatus_index;
    status_fail=*Pstatus_fail;
    vdd_V=*Pvdd_V;
    CONST_0_V=*P0_V;
    look_up_tables_pch=*Plook_up_tables_pch;
    look_up_tables_nch=*Plook_up_tables_nch;
    property_Adc=*Pproperty_Adc;
    property_CMRR=*Pproperty_CMRR;
    property_PSRR=*Pproperty_PSRR;
    property_Rout=*Pproperty_Rout;
    property_BW=*Pproperty_BW;
    property_ts=*Pproperty_ts;
    property_Cin=*Pproperty_Cin;
    property_PM=*Pproperty_PM;
    property_Nt=*Pproperty_Nt;
    property_Nf=*Pproperty_Nf;
    property_fc=*Pproperty_fc;
    property_TotalNoise=*Pproperty_TotalNoise;
    property_Area=*Pproperty_Area;
    property_Vos=*Pproperty_Vos;
    property_Power=*Pproperty_Power;
    diffpair_nmos_config_pat_size_target=*Pdiffpair_nmos_config_pat_size_target;
    size_iref_min=*Psize_iref_min;
    size_iref_max=*Psize_iref_max;
    diffpair_nmos_size_iref=*Pdiffpair_nmos_size_iref;
    size_Lp_min=*Psize_Lp_min;
    size_Lp_max=*Psize_Lp_max;
    diffpair_nmos_size_Lp=*Pdiffpair_nmos_size_Lp;
    size_Wp_max=*Psize_Wp_max;
    diffpair_nmos_size_Wp=*Pdiffpair_nmos_size_Wp;
    size_Ln_min=*Psize_Ln_min;
    size_Ln_max=*Psize_Ln_max;
    diffpair_nmos_size_Ln=*Pdiffpair_nmos_size_Ln;
    size_Wn_max=*Psize_Wn_max;
    diffpair_nmos_size_Wn=*Pdiffpair_nmos_size_Wn;
    size_Ls_min=*Psize_Ls_min;
    size_Ls_max=*Psize_Ls_max;
    diffpair_nmos_size_Ls=*Pdiffpair_nmos_size_Ls;
    size_iref_step=*Psize_iref_step;
    size_Lp_step=*Psize_Lp_step;
    size_Wp_step=*Psize_Wp_step;
    size_Ln_step=*Psize_Ln_step;
    size_Wn_step=*Psize_Wn_step;
    size_Ls_step=*Psize_Ls_step;
    diffpair_nmos_max_Adc=*Pdiffpair_nmos_max_Adc;
    diffpair_nmos_param_unique=*Pdiffpair_nmos_param_unique;
    diffpair_nmos_pat_size_target=*Pdiffpair_nmos_pat_size_target;
    diffpair_nmos_size_iref_step=*Pdiffpair_nmos_size_iref_step;
    diffpair_nmos_size_Lp_step=*Pdiffpair_nmos_size_Lp_step;
    diffpair_nmos_size_Wp_step=*Pdiffpair_nmos_size_Wp_step;
    diffpair_nmos_size_Ln_step=*Pdiffpair_nmos_size_Ln_step;
    diffpair_nmos_size_Wn_step=*Pdiffpair_nmos_size_Wn_step;
    diffpair_nmos_size_Ls_step=*Pdiffpair_nmos_size_Ls_step;
    diffpair_nmos_mode_freash_op=*Pdiffpair_nmos_mode_freash_op;
    diffpair_nmos_status_index=*Pdiffpair_nmos_status_index;
    diffpair_nmos_config_size_iref=*Pdiffpair_nmos_config_size_iref;
    diffpair_nmos_config_size_Lp=*Pdiffpair_nmos_config_size_Lp;
    diffpair_nmos_config_size_Wp=*Pdiffpair_nmos_config_size_Wp;
    diffpair_nmos_config_size_Ln=*Pdiffpair_nmos_config_size_Ln;
    diffpair_nmos_config_size_Wn=*Pdiffpair_nmos_config_size_Wn;
    diffpair_nmos_config_size_Ls=*Pdiffpair_nmos_config_size_Ls;
    diffpair_nmos_vdd_V=*Pdiffpair_nmos_vdd_V;
    diffpair_nmos_0_V=*Pdiffpair_nmos_0_V;
    diffpair_nmos_status_fail=*Pdiffpair_nmos_status_fail;
    diffpair_nmos_design_feedback=*Pdiffpair_nmos_design_feedback;
    p_1_bin=*Pp_1_bin;
    p_1_W=*Pp_1_W;
    p_1_L=*Pp_1_L;
    p_2_bin=*Pp_2_bin;
    p_2_W=*Pp_2_W;
    p_2_L=*Pp_2_L;
    nin_1_bin=*Pnin_1_bin;
    nin_1_W=*Pnin_1_W;
    nin_1_L=*Pnin_1_L;
    nin_2_bin=*Pnin_2_bin;
    nin_2_W=*Pnin_2_W;
    nin_2_L=*Pnin_2_L;
    ntail_bin=*Pntail_bin;
    ntail_W=*Pntail_W;
    ntail_L=*Pntail_L;
    nref_bin=*Pnref_bin;
    nref_W=*Pnref_W;
    nref_L=*Pnref_L;
    diffpair_nmos_leak=*Pdiffpair_nmos_leak;
    diffpair_nmos_config_op_iterations=*Pdiffpair_nmos_config_op_iterations;
    diffpair_nmos_config_kcl_th=*Pdiffpair_nmos_config_kcl_th;
    diffpair_nmos_config_design_feedback_th=*Pdiffpair_nmos_config_design_feedback_th;
    outp_V=*Poutp_V;
    p_1_go=*Pp_1_go;
    p_1_gm=*Pp_1_gm;
    p_1_gb=*Pp_1_gb;
    p_1_Ids=*Pp_1_Ids;
    outm_V=*Poutm_V;
    p_2_go=*Pp_2_go;
    p_2_gm=*Pp_2_gm;
    p_2_gb=*Pp_2_gb;
    p_2_Ids=*Pp_2_Ids;
    tail_V=*Ptail_V;
    nin_1_go=*Pnin_1_go;
    nin_1_gm=*Pnin_1_gm;
    nin_1_gb=*Pnin_1_gb;
    nin_1_Ids=*Pnin_1_Ids;
    inp_V=*Pinp_V;
    nin_2_go=*Pnin_2_go;
    nin_2_gm=*Pnin_2_gm;
    nin_2_gb=*Pnin_2_gb;
    nin_2_Ids=*Pnin_2_Ids;
    inn_V=*Pinn_V;
    vbias_V=*Pvbias_V;
    ntail_go=*Pntail_go;
    ntail_gm=*Pntail_gm;
    ntail_gb=*Pntail_gb;
    ntail_Ids=*Pntail_Ids;
    nref_go=*Pnref_go;
    nref_gm=*Pnref_gm;
    nref_gb=*Pnref_gb;
    nref_Ids=*Pnref_Ids;
    diffpair_nmos_config_kcl_step=*Pdiffpair_nmos_config_kcl_step;
    diffpair_nmos_property_Adc=*Pdiffpair_nmos_property_Adc;
    diffpair_nmos_property_CMRR=*Pdiffpair_nmos_property_CMRR;
    diffpair_nmos_property_PSRR=*Pdiffpair_nmos_property_PSRR;
    diffpair_nmos_config_fail_on_properties=*Pdiffpair_nmos_config_fail_on_properties;
    diffpair_nmos_property_Rout=*Pdiffpair_nmos_property_Rout;
    p_2_cgg=*Pp_2_cgg;
    p_2_cgd=*Pp_2_cgd;
    p_2_cdg=*Pp_2_cdg;
    p_2_cdd=*Pp_2_cdd;
    p_1_cgg=*Pp_1_cgg;
    p_1_cgd=*Pp_1_cgd;
    p_1_cdg=*Pp_1_cdg;
    p_1_cdd=*Pp_1_cdd;
    ntail_cgg=*Pntail_cgg;
    ntail_cgd=*Pntail_cgd;
    ntail_cdg=*Pntail_cdg;
    ntail_cdd=*Pntail_cdd;
    nref_cgg=*Pnref_cgg;
    nref_cgd=*Pnref_cgd;
    nref_cdg=*Pnref_cdg;
    nref_cdd=*Pnref_cdd;
    nin_2_css=*Pnin_2_css;
    nin_2_csd=*Pnin_2_csd;
    nin_2_cds=*Pnin_2_cds;
    nin_2_cdd=*Pnin_2_cdd;
    nin_1_css=*Pnin_1_css;
    nin_1_csd=*Pnin_1_csd;
    nin_1_cds=*Pnin_1_cds;
    nin_1_cdd=*Pnin_1_cdd;
    diffpair_nmos_property_BW=*Pdiffpair_nmos_property_BW;
    s=*Ps;
    diffpair_nmos_property_BW_s=*Pdiffpair_nmos_property_BW_s;
    diffpair_nmos_p1=*Pdiffpair_nmos_p1;
    diffpair_nmos_p2=*Pdiffpair_nmos_p2;
    diffpair_nmos_property_ts=*Pdiffpair_nmos_property_ts;
    nin_1_cgs=*Pnin_1_cgs;
    nin_1_cgd=*Pnin_1_cgd;
    diffpair_nmos_property_Cin=*Pdiffpair_nmos_property_Cin;
    diffpair_nmos_property_PM=*Pdiffpair_nmos_property_PM;
    p_1_dNt_dvgs=*Pp_1_dNt_dvgs;
    p_1_dNt_dvds=*Pp_1_dNt_dvds;
    p_1_dNt_dvbs=*Pp_1_dNt_dvbs;
    p_1_dNt_dl=*Pp_1_dNt_dl;
    p_1_Nt_unit=*Pp_1_Nt_unit;
    p_1_Nt=*Pp_1_Nt;
    p_1_dNf_dvgs=*Pp_1_dNf_dvgs;
    p_1_dNf_dvds=*Pp_1_dNf_dvds;
    p_1_dNf_dvbs=*Pp_1_dNf_dvbs;
    p_1_dNf_dl=*Pp_1_dNf_dl;
    p_1_Nf_unit=*Pp_1_Nf_unit;
    p_1_Nf=*Pp_1_Nf;
    p_2_dNt_dvgs=*Pp_2_dNt_dvgs;
    p_2_dNt_dvds=*Pp_2_dNt_dvds;
    p_2_dNt_dvbs=*Pp_2_dNt_dvbs;
    p_2_dNt_dl=*Pp_2_dNt_dl;
    p_2_Nt_unit=*Pp_2_Nt_unit;
    p_2_Nt=*Pp_2_Nt;
    p_2_dNf_dvgs=*Pp_2_dNf_dvgs;
    p_2_dNf_dvds=*Pp_2_dNf_dvds;
    p_2_dNf_dvbs=*Pp_2_dNf_dvbs;
    p_2_dNf_dl=*Pp_2_dNf_dl;
    p_2_Nf_unit=*Pp_2_Nf_unit;
    p_2_Nf=*Pp_2_Nf;
    nin_1_dNt_dvgs=*Pnin_1_dNt_dvgs;
    nin_1_dNt_dvds=*Pnin_1_dNt_dvds;
    nin_1_dNt_dvbs=*Pnin_1_dNt_dvbs;
    nin_1_dNt_dl=*Pnin_1_dNt_dl;
    nin_1_Nt_unit=*Pnin_1_Nt_unit;
    nin_1_Nt=*Pnin_1_Nt;
    nin_1_dNf_dvgs=*Pnin_1_dNf_dvgs;
    nin_1_dNf_dvds=*Pnin_1_dNf_dvds;
    nin_1_dNf_dvbs=*Pnin_1_dNf_dvbs;
    nin_1_dNf_dl=*Pnin_1_dNf_dl;
    nin_1_Nf_unit=*Pnin_1_Nf_unit;
    nin_1_Nf=*Pnin_1_Nf;
    nin_2_dNt_dvgs=*Pnin_2_dNt_dvgs;
    nin_2_dNt_dvds=*Pnin_2_dNt_dvds;
    nin_2_dNt_dvbs=*Pnin_2_dNt_dvbs;
    nin_2_dNt_dl=*Pnin_2_dNt_dl;
    nin_2_Nt_unit=*Pnin_2_Nt_unit;
    nin_2_Nt=*Pnin_2_Nt;
    nin_2_dNf_dvgs=*Pnin_2_dNf_dvgs;
    nin_2_dNf_dvds=*Pnin_2_dNf_dvds;
    nin_2_dNf_dvbs=*Pnin_2_dNf_dvbs;
    nin_2_dNf_dl=*Pnin_2_dNf_dl;
    nin_2_Nf_unit=*Pnin_2_Nf_unit;
    nin_2_Nf=*Pnin_2_Nf;
    ntail_dNt_dvgs=*Pntail_dNt_dvgs;
    ntail_dNt_dvds=*Pntail_dNt_dvds;
    ntail_dNt_dvbs=*Pntail_dNt_dvbs;
    ntail_dNt_dl=*Pntail_dNt_dl;
    ntail_Nt_unit=*Pntail_Nt_unit;
    ntail_Nt=*Pntail_Nt;
    ntail_dNf_dvgs=*Pntail_dNf_dvgs;
    ntail_dNf_dvds=*Pntail_dNf_dvds;
    ntail_dNf_dvbs=*Pntail_dNf_dvbs;
    ntail_dNf_dl=*Pntail_dNf_dl;
    ntail_Nf_unit=*Pntail_Nf_unit;
    ntail_Nf=*Pntail_Nf;
    nref_dNt_dvgs=*Pnref_dNt_dvgs;
    nref_dNt_dvds=*Pnref_dNt_dvds;
    nref_dNt_dvbs=*Pnref_dNt_dvbs;
    nref_dNt_dl=*Pnref_dNt_dl;
    nref_Nt_unit=*Pnref_Nt_unit;
    nref_Nt=*Pnref_Nt;
    nref_dNf_dvgs=*Pnref_dNf_dvgs;
    nref_dNf_dvds=*Pnref_dNf_dvds;
    nref_dNf_dvbs=*Pnref_dNf_dvbs;
    nref_dNf_dl=*Pnref_dNf_dl;
    nref_Nf_unit=*Pnref_Nf_unit;
    nref_Nf=*Pnref_Nf;
    diffpair_nmos_property_Nt=*Pdiffpair_nmos_property_Nt;
    diffpair_nmos_property_Nf=*Pdiffpair_nmos_property_Nf;
    diffpair_nmos_property_fc=*Pdiffpair_nmos_property_fc;
    diffpair_nmos_property_TotalNoise=*Pdiffpair_nmos_property_TotalNoise;
    diffpair_nmos_property_Area=*Pdiffpair_nmos_property_Area;
    diffpair_nmos_property_Vos=*Pdiffpair_nmos_property_Vos;
    diffpair_nmos_property_Power=*Pdiffpair_nmos_property_Power;
    diffpair_nmos_config_shift_Adc=*Pdiffpair_nmos_config_shift_Adc;
    diffpair_nmos_config_factor_Adc=*Pdiffpair_nmos_config_factor_Adc;
    diffpair_nmos_config_shift_CMRR=*Pdiffpair_nmos_config_shift_CMRR;
    diffpair_nmos_config_factor_CMRR=*Pdiffpair_nmos_config_factor_CMRR;
    diffpair_nmos_config_shift_PSRR=*Pdiffpair_nmos_config_shift_PSRR;
    diffpair_nmos_config_factor_PSRR=*Pdiffpair_nmos_config_factor_PSRR;
    diffpair_nmos_config_shift_Rout=*Pdiffpair_nmos_config_shift_Rout;
    diffpair_nmos_config_factor_Rout=*Pdiffpair_nmos_config_factor_Rout;
    diffpair_nmos_config_shift_BW=*Pdiffpair_nmos_config_shift_BW;
    diffpair_nmos_config_factor_BW=*Pdiffpair_nmos_config_factor_BW;
    diffpair_nmos_config_shift_ts=*Pdiffpair_nmos_config_shift_ts;
    diffpair_nmos_config_factor_ts=*Pdiffpair_nmos_config_factor_ts;
    diffpair_nmos_config_shift_Cin=*Pdiffpair_nmos_config_shift_Cin;
    diffpair_nmos_config_factor_Cin=*Pdiffpair_nmos_config_factor_Cin;
    diffpair_nmos_config_shift_PM=*Pdiffpair_nmos_config_shift_PM;
    diffpair_nmos_config_factor_PM=*Pdiffpair_nmos_config_factor_PM;
    diffpair_nmos_config_shift_Nt=*Pdiffpair_nmos_config_shift_Nt;
    diffpair_nmos_config_factor_Nt=*Pdiffpair_nmos_config_factor_Nt;
    diffpair_nmos_config_shift_Nf=*Pdiffpair_nmos_config_shift_Nf;
    diffpair_nmos_config_factor_Nf=*Pdiffpair_nmos_config_factor_Nf;
    diffpair_nmos_config_shift_fc=*Pdiffpair_nmos_config_shift_fc;
    diffpair_nmos_config_factor_fc=*Pdiffpair_nmos_config_factor_fc;
    diffpair_nmos_config_shift_TotalNoise=*Pdiffpair_nmos_config_shift_TotalNoise;
    diffpair_nmos_config_factor_TotalNoise=*Pdiffpair_nmos_config_factor_TotalNoise;
    diffpair_nmos_config_shift_Area=*Pdiffpair_nmos_config_shift_Area;
    diffpair_nmos_config_factor_Area=*Pdiffpair_nmos_config_factor_Area;
    diffpair_nmos_config_shift_Vos=*Pdiffpair_nmos_config_shift_Vos;
    diffpair_nmos_config_factor_Vos=*Pdiffpair_nmos_config_factor_Vos;
    diffpair_nmos_config_shift_Power=*Pdiffpair_nmos_config_shift_Power;
    diffpair_nmos_config_factor_Power=*Pdiffpair_nmos_config_factor_Power;
    diffpair_nmos_circuit_breed_id=*Pdiffpair_nmos_circuit_breed_id;
    diffpair_nmos_circuit_breed_target=*Pdiffpair_nmos_circuit_breed_target;
    
    return TCL_OK;
}
static int tcl_gamma_diffpair_nmos_export_cmd(ClientData clientData,Tcl_Interp *interp,int argc,char *argv[]) {
    *Pconfig_pat_size_target=config_pat_size_target;
    *Pconfig_size=config_size;
    *Pconfig_op_iterations=config_op_iterations;
    *Pconfig_kcl_th=config_kcl_th;
    *Pconfig_design_feedback_th=config_design_feedback_th;
    *Pconfig_kcl_step=config_kcl_step;
    *Pconfig_fail_on_properties=config_fail_on_properties;
    *Pconfig_cgg_factor=config_cgg_factor;
    *Pconfig_cgd_factor=config_cgd_factor;
    *Pconfig_cdd_factor=config_cdd_factor;
    *Pconfig_cdg_factor=config_cdg_factor;
    *Pconfig_cgs_factor=config_cgs_factor;
    *Pconfig_cds_factor=config_cds_factor;
    *Pconfig_csd_factor=config_csd_factor;
    *Pconfig_css_factor=config_css_factor;
    *Pconfig_shift=config_shift;
    *Pconfig_factor=config_factor;
    *Psize_iref=size_iref;
    *Psize_Lp=size_Lp;
    *Psize_Wp=size_Wp;
    *Psize_Ln=size_Ln;
    *Psize_Wn=size_Wn;
    *Psize_Ls=size_Ls;
    *Pparam_unique=param_unique;
    *Pparam_inp=param_inp;
    *Pparam_inn=param_inn;
    *Pparam_vdd=param_vdd;
    *Pmode_freash_op=mode_freash_op;
    *Pstatus_index=status_index;
    *Pstatus_fail=status_fail;
    *Pvdd_V=vdd_V;
    *P0_V=CONST_0_V;
    *Plook_up_tables_pch=look_up_tables_pch;
    *Plook_up_tables_nch=look_up_tables_nch;
    *Pproperty_Adc=property_Adc;
    *Pproperty_CMRR=property_CMRR;
    *Pproperty_PSRR=property_PSRR;
    *Pproperty_Rout=property_Rout;
    *Pproperty_BW=property_BW;
    *Pproperty_ts=property_ts;
    *Pproperty_Cin=property_Cin;
    *Pproperty_PM=property_PM;
    *Pproperty_Nt=property_Nt;
    *Pproperty_Nf=property_Nf;
    *Pproperty_fc=property_fc;
    *Pproperty_TotalNoise=property_TotalNoise;
    *Pproperty_Area=property_Area;
    *Pproperty_Vos=property_Vos;
    *Pproperty_Power=property_Power;
    *Pdiffpair_nmos_config_pat_size_target=diffpair_nmos_config_pat_size_target;
    *Psize_iref_min=size_iref_min;
    *Psize_iref_max=size_iref_max;
    *Pdiffpair_nmos_size_iref=diffpair_nmos_size_iref;
    *Psize_Lp_min=size_Lp_min;
    *Psize_Lp_max=size_Lp_max;
    *Pdiffpair_nmos_size_Lp=diffpair_nmos_size_Lp;
    *Psize_Wp_max=size_Wp_max;
    *Pdiffpair_nmos_size_Wp=diffpair_nmos_size_Wp;
    *Psize_Ln_min=size_Ln_min;
    *Psize_Ln_max=size_Ln_max;
    *Pdiffpair_nmos_size_Ln=diffpair_nmos_size_Ln;
    *Psize_Wn_max=size_Wn_max;
    *Pdiffpair_nmos_size_Wn=diffpair_nmos_size_Wn;
    *Psize_Ls_min=size_Ls_min;
    *Psize_Ls_max=size_Ls_max;
    *Pdiffpair_nmos_size_Ls=diffpair_nmos_size_Ls;
    *Psize_iref_step=size_iref_step;
    *Psize_Lp_step=size_Lp_step;
    *Psize_Wp_step=size_Wp_step;
    *Psize_Ln_step=size_Ln_step;
    *Psize_Wn_step=size_Wn_step;
    *Psize_Ls_step=size_Ls_step;
    *Pdiffpair_nmos_max_Adc=diffpair_nmos_max_Adc;
    *Pdiffpair_nmos_param_unique=diffpair_nmos_param_unique;
    *Pdiffpair_nmos_pat_size_target=diffpair_nmos_pat_size_target;
    *Pdiffpair_nmos_size_iref_step=diffpair_nmos_size_iref_step;
    *Pdiffpair_nmos_size_Lp_step=diffpair_nmos_size_Lp_step;
    *Pdiffpair_nmos_size_Wp_step=diffpair_nmos_size_Wp_step;
    *Pdiffpair_nmos_size_Ln_step=diffpair_nmos_size_Ln_step;
    *Pdiffpair_nmos_size_Wn_step=diffpair_nmos_size_Wn_step;
    *Pdiffpair_nmos_size_Ls_step=diffpair_nmos_size_Ls_step;
    *Pdiffpair_nmos_mode_freash_op=diffpair_nmos_mode_freash_op;
    *Pdiffpair_nmos_status_index=diffpair_nmos_status_index;
    *Pdiffpair_nmos_config_size_iref=diffpair_nmos_config_size_iref;
    *Pdiffpair_nmos_config_size_Lp=diffpair_nmos_config_size_Lp;
    *Pdiffpair_nmos_config_size_Wp=diffpair_nmos_config_size_Wp;
    *Pdiffpair_nmos_config_size_Ln=diffpair_nmos_config_size_Ln;
    *Pdiffpair_nmos_config_size_Wn=diffpair_nmos_config_size_Wn;
    *Pdiffpair_nmos_config_size_Ls=diffpair_nmos_config_size_Ls;
    *Pdiffpair_nmos_vdd_V=diffpair_nmos_vdd_V;
    *Pdiffpair_nmos_0_V=diffpair_nmos_0_V;
    *Pdiffpair_nmos_status_fail=diffpair_nmos_status_fail;
    *Pdiffpair_nmos_design_feedback=diffpair_nmos_design_feedback;
    *Pp_1_bin=p_1_bin;
    *Pp_1_W=p_1_W;
    *Pp_1_L=p_1_L;
    *Pp_2_bin=p_2_bin;
    *Pp_2_W=p_2_W;
    *Pp_2_L=p_2_L;
    *Pnin_1_bin=nin_1_bin;
    *Pnin_1_W=nin_1_W;
    *Pnin_1_L=nin_1_L;
    *Pnin_2_bin=nin_2_bin;
    *Pnin_2_W=nin_2_W;
    *Pnin_2_L=nin_2_L;
    *Pntail_bin=ntail_bin;
    *Pntail_W=ntail_W;
    *Pntail_L=ntail_L;
    *Pnref_bin=nref_bin;
    *Pnref_W=nref_W;
    *Pnref_L=nref_L;
    *Pdiffpair_nmos_leak=diffpair_nmos_leak;
    *Pdiffpair_nmos_config_op_iterations=diffpair_nmos_config_op_iterations;
    *Pdiffpair_nmos_config_kcl_th=diffpair_nmos_config_kcl_th;
    *Pdiffpair_nmos_config_design_feedback_th=diffpair_nmos_config_design_feedback_th;
    *Poutp_V=outp_V;
    *Pp_1_go=p_1_go;
    *Pp_1_gm=p_1_gm;
    *Pp_1_gb=p_1_gb;
    *Pp_1_Ids=p_1_Ids;
    *Poutm_V=outm_V;
    *Pp_2_go=p_2_go;
    *Pp_2_gm=p_2_gm;
    *Pp_2_gb=p_2_gb;
    *Pp_2_Ids=p_2_Ids;
    *Ptail_V=tail_V;
    *Pnin_1_go=nin_1_go;
    *Pnin_1_gm=nin_1_gm;
    *Pnin_1_gb=nin_1_gb;
    *Pnin_1_Ids=nin_1_Ids;
    *Pinp_V=inp_V;
    *Pnin_2_go=nin_2_go;
    *Pnin_2_gm=nin_2_gm;
    *Pnin_2_gb=nin_2_gb;
    *Pnin_2_Ids=nin_2_Ids;
    *Pinn_V=inn_V;
    *Pvbias_V=vbias_V;
    *Pntail_go=ntail_go;
    *Pntail_gm=ntail_gm;
    *Pntail_gb=ntail_gb;
    *Pntail_Ids=ntail_Ids;
    *Pnref_go=nref_go;
    *Pnref_gm=nref_gm;
    *Pnref_gb=nref_gb;
    *Pnref_Ids=nref_Ids;
    *Pdiffpair_nmos_config_kcl_step=diffpair_nmos_config_kcl_step;
    *Pdiffpair_nmos_property_Adc=diffpair_nmos_property_Adc;
    *Pdiffpair_nmos_property_CMRR=diffpair_nmos_property_CMRR;
    *Pdiffpair_nmos_property_PSRR=diffpair_nmos_property_PSRR;
    *Pdiffpair_nmos_config_fail_on_properties=diffpair_nmos_config_fail_on_properties;
    *Pdiffpair_nmos_property_Rout=diffpair_nmos_property_Rout;
    *Pp_2_cgg=p_2_cgg;
    *Pp_2_cgd=p_2_cgd;
    *Pp_2_cdg=p_2_cdg;
    *Pp_2_cdd=p_2_cdd;
    *Pp_1_cgg=p_1_cgg;
    *Pp_1_cgd=p_1_cgd;
    *Pp_1_cdg=p_1_cdg;
    *Pp_1_cdd=p_1_cdd;
    *Pntail_cgg=ntail_cgg;
    *Pntail_cgd=ntail_cgd;
    *Pntail_cdg=ntail_cdg;
    *Pntail_cdd=ntail_cdd;
    *Pnref_cgg=nref_cgg;
    *Pnref_cgd=nref_cgd;
    *Pnref_cdg=nref_cdg;
    *Pnref_cdd=nref_cdd;
    *Pnin_2_css=nin_2_css;
    *Pnin_2_csd=nin_2_csd;
    *Pnin_2_cds=nin_2_cds;
    *Pnin_2_cdd=nin_2_cdd;
    *Pnin_1_css=nin_1_css;
    *Pnin_1_csd=nin_1_csd;
    *Pnin_1_cds=nin_1_cds;
    *Pnin_1_cdd=nin_1_cdd;
    *Pdiffpair_nmos_property_BW=diffpair_nmos_property_BW;
    *Ps=s;
    *Pdiffpair_nmos_property_BW_s=diffpair_nmos_property_BW_s;
    *Pdiffpair_nmos_p1=diffpair_nmos_p1;
    *Pdiffpair_nmos_p2=diffpair_nmos_p2;
    *Pdiffpair_nmos_property_ts=diffpair_nmos_property_ts;
    *Pnin_1_cgs=nin_1_cgs;
    *Pnin_1_cgd=nin_1_cgd;
    *Pdiffpair_nmos_property_Cin=diffpair_nmos_property_Cin;
    *Pdiffpair_nmos_property_PM=diffpair_nmos_property_PM;
    *Pp_1_dNt_dvgs=p_1_dNt_dvgs;
    *Pp_1_dNt_dvds=p_1_dNt_dvds;
    *Pp_1_dNt_dvbs=p_1_dNt_dvbs;
    *Pp_1_dNt_dl=p_1_dNt_dl;
    *Pp_1_Nt_unit=p_1_Nt_unit;
    *Pp_1_Nt=p_1_Nt;
    *Pp_1_dNf_dvgs=p_1_dNf_dvgs;
    *Pp_1_dNf_dvds=p_1_dNf_dvds;
    *Pp_1_dNf_dvbs=p_1_dNf_dvbs;
    *Pp_1_dNf_dl=p_1_dNf_dl;
    *Pp_1_Nf_unit=p_1_Nf_unit;
    *Pp_1_Nf=p_1_Nf;
    *Pp_2_dNt_dvgs=p_2_dNt_dvgs;
    *Pp_2_dNt_dvds=p_2_dNt_dvds;
    *Pp_2_dNt_dvbs=p_2_dNt_dvbs;
    *Pp_2_dNt_dl=p_2_dNt_dl;
    *Pp_2_Nt_unit=p_2_Nt_unit;
    *Pp_2_Nt=p_2_Nt;
    *Pp_2_dNf_dvgs=p_2_dNf_dvgs;
    *Pp_2_dNf_dvds=p_2_dNf_dvds;
    *Pp_2_dNf_dvbs=p_2_dNf_dvbs;
    *Pp_2_dNf_dl=p_2_dNf_dl;
    *Pp_2_Nf_unit=p_2_Nf_unit;
    *Pp_2_Nf=p_2_Nf;
    *Pnin_1_dNt_dvgs=nin_1_dNt_dvgs;
    *Pnin_1_dNt_dvds=nin_1_dNt_dvds;
    *Pnin_1_dNt_dvbs=nin_1_dNt_dvbs;
    *Pnin_1_dNt_dl=nin_1_dNt_dl;
    *Pnin_1_Nt_unit=nin_1_Nt_unit;
    *Pnin_1_Nt=nin_1_Nt;
    *Pnin_1_dNf_dvgs=nin_1_dNf_dvgs;
    *Pnin_1_dNf_dvds=nin_1_dNf_dvds;
    *Pnin_1_dNf_dvbs=nin_1_dNf_dvbs;
    *Pnin_1_dNf_dl=nin_1_dNf_dl;
    *Pnin_1_Nf_unit=nin_1_Nf_unit;
    *Pnin_1_Nf=nin_1_Nf;
    *Pnin_2_dNt_dvgs=nin_2_dNt_dvgs;
    *Pnin_2_dNt_dvds=nin_2_dNt_dvds;
    *Pnin_2_dNt_dvbs=nin_2_dNt_dvbs;
    *Pnin_2_dNt_dl=nin_2_dNt_dl;
    *Pnin_2_Nt_unit=nin_2_Nt_unit;
    *Pnin_2_Nt=nin_2_Nt;
    *Pnin_2_dNf_dvgs=nin_2_dNf_dvgs;
    *Pnin_2_dNf_dvds=nin_2_dNf_dvds;
    *Pnin_2_dNf_dvbs=nin_2_dNf_dvbs;
    *Pnin_2_dNf_dl=nin_2_dNf_dl;
    *Pnin_2_Nf_unit=nin_2_Nf_unit;
    *Pnin_2_Nf=nin_2_Nf;
    *Pntail_dNt_dvgs=ntail_dNt_dvgs;
    *Pntail_dNt_dvds=ntail_dNt_dvds;
    *Pntail_dNt_dvbs=ntail_dNt_dvbs;
    *Pntail_dNt_dl=ntail_dNt_dl;
    *Pntail_Nt_unit=ntail_Nt_unit;
    *Pntail_Nt=ntail_Nt;
    *Pntail_dNf_dvgs=ntail_dNf_dvgs;
    *Pntail_dNf_dvds=ntail_dNf_dvds;
    *Pntail_dNf_dvbs=ntail_dNf_dvbs;
    *Pntail_dNf_dl=ntail_dNf_dl;
    *Pntail_Nf_unit=ntail_Nf_unit;
    *Pntail_Nf=ntail_Nf;
    *Pnref_dNt_dvgs=nref_dNt_dvgs;
    *Pnref_dNt_dvds=nref_dNt_dvds;
    *Pnref_dNt_dvbs=nref_dNt_dvbs;
    *Pnref_dNt_dl=nref_dNt_dl;
    *Pnref_Nt_unit=nref_Nt_unit;
    *Pnref_Nt=nref_Nt;
    *Pnref_dNf_dvgs=nref_dNf_dvgs;
    *Pnref_dNf_dvds=nref_dNf_dvds;
    *Pnref_dNf_dvbs=nref_dNf_dvbs;
    *Pnref_dNf_dl=nref_dNf_dl;
    *Pnref_Nf_unit=nref_Nf_unit;
    *Pnref_Nf=nref_Nf;
    *Pdiffpair_nmos_property_Nt=diffpair_nmos_property_Nt;
    *Pdiffpair_nmos_property_Nf=diffpair_nmos_property_Nf;
    *Pdiffpair_nmos_property_fc=diffpair_nmos_property_fc;
    *Pdiffpair_nmos_property_TotalNoise=diffpair_nmos_property_TotalNoise;
    *Pdiffpair_nmos_property_Area=diffpair_nmos_property_Area;
    *Pdiffpair_nmos_property_Vos=diffpair_nmos_property_Vos;
    *Pdiffpair_nmos_property_Power=diffpair_nmos_property_Power;
    *Pdiffpair_nmos_config_shift_Adc=diffpair_nmos_config_shift_Adc;
    *Pdiffpair_nmos_config_factor_Adc=diffpair_nmos_config_factor_Adc;
    *Pdiffpair_nmos_config_shift_CMRR=diffpair_nmos_config_shift_CMRR;
    *Pdiffpair_nmos_config_factor_CMRR=diffpair_nmos_config_factor_CMRR;
    *Pdiffpair_nmos_config_shift_PSRR=diffpair_nmos_config_shift_PSRR;
    *Pdiffpair_nmos_config_factor_PSRR=diffpair_nmos_config_factor_PSRR;
    *Pdiffpair_nmos_config_shift_Rout=diffpair_nmos_config_shift_Rout;
    *Pdiffpair_nmos_config_factor_Rout=diffpair_nmos_config_factor_Rout;
    *Pdiffpair_nmos_config_shift_BW=diffpair_nmos_config_shift_BW;
    *Pdiffpair_nmos_config_factor_BW=diffpair_nmos_config_factor_BW;
    *Pdiffpair_nmos_config_shift_ts=diffpair_nmos_config_shift_ts;
    *Pdiffpair_nmos_config_factor_ts=diffpair_nmos_config_factor_ts;
    *Pdiffpair_nmos_config_shift_Cin=diffpair_nmos_config_shift_Cin;
    *Pdiffpair_nmos_config_factor_Cin=diffpair_nmos_config_factor_Cin;
    *Pdiffpair_nmos_config_shift_PM=diffpair_nmos_config_shift_PM;
    *Pdiffpair_nmos_config_factor_PM=diffpair_nmos_config_factor_PM;
    *Pdiffpair_nmos_config_shift_Nt=diffpair_nmos_config_shift_Nt;
    *Pdiffpair_nmos_config_factor_Nt=diffpair_nmos_config_factor_Nt;
    *Pdiffpair_nmos_config_shift_Nf=diffpair_nmos_config_shift_Nf;
    *Pdiffpair_nmos_config_factor_Nf=diffpair_nmos_config_factor_Nf;
    *Pdiffpair_nmos_config_shift_fc=diffpair_nmos_config_shift_fc;
    *Pdiffpair_nmos_config_factor_fc=diffpair_nmos_config_factor_fc;
    *Pdiffpair_nmos_config_shift_TotalNoise=diffpair_nmos_config_shift_TotalNoise;
    *Pdiffpair_nmos_config_factor_TotalNoise=diffpair_nmos_config_factor_TotalNoise;
    *Pdiffpair_nmos_config_shift_Area=diffpair_nmos_config_shift_Area;
    *Pdiffpair_nmos_config_factor_Area=diffpair_nmos_config_factor_Area;
    *Pdiffpair_nmos_config_shift_Vos=diffpair_nmos_config_shift_Vos;
    *Pdiffpair_nmos_config_factor_Vos=diffpair_nmos_config_factor_Vos;
    *Pdiffpair_nmos_config_shift_Power=diffpair_nmos_config_shift_Power;
    *Pdiffpair_nmos_config_factor_Power=diffpair_nmos_config_factor_Power;
    *Pdiffpair_nmos_circuit_breed_id=diffpair_nmos_circuit_breed_id;
    *Pdiffpair_nmos_circuit_breed_target=diffpair_nmos_circuit_breed_target;
    
    return TCL_OK;
}
static int tcl_gamma_diffpair_nmos_op_cmd(ClientData clientData,Tcl_Interp *interp,int argc,char *argv[]) {
    //            Tcl_ResetResult(interp);
    if (diffpair_nmos_mode_freash_op) {
    }
    diffpair_nmos_status_index=0;
    if(diffpair_nmos_config_size_iref!=0) diffpair_nmos_size_iref=diffpair_nmos_config_size_iref;
    if(diffpair_nmos_config_size_Lp!=0) diffpair_nmos_size_Lp=diffpair_nmos_config_size_Lp;
    if(diffpair_nmos_config_size_Wp!=0) diffpair_nmos_size_Wp=diffpair_nmos_config_size_Wp;
    if(diffpair_nmos_config_size_Ln!=0) diffpair_nmos_size_Ln=diffpair_nmos_config_size_Ln;
    if(diffpair_nmos_config_size_Wn!=0) diffpair_nmos_size_Wn=diffpair_nmos_config_size_Wn;
    if(diffpair_nmos_config_size_Ls!=0) diffpair_nmos_size_Ls=diffpair_nmos_config_size_Ls;
    diffpair_nmos_vdd_V=1.1;
    diffpair_nmos_0_V=0;
    // Calculating circuit operating point:
    int op_it=0;
    diffpair_nmos_status_fail=-1;
    diffpair_nmos_design_feedback=1000;
    p_1_bin=get_transistor_bin(Plook_up_tables_pch_binning_LUT,p_1_L,p_1_W);
    p_2_bin=get_transistor_bin(Plook_up_tables_pch_binning_LUT,p_2_L,p_2_W);
    nin_1_bin=get_transistor_bin(Plook_up_tables_nch_binning_LUT,nin_1_L,nin_1_W);
    nin_2_bin=get_transistor_bin(Plook_up_tables_nch_binning_LUT,nin_2_L,nin_2_W);
    ntail_bin=get_transistor_bin(Plook_up_tables_nch_binning_LUT,ntail_L,ntail_W);
    nref_bin=get_transistor_bin(Plook_up_tables_nch_binning_LUT,nref_L,nref_W);
    diffpair_nmos_leak=1e3;
    float node_step=0;
    for (op_it=0;(op_it<diffpair_nmos_config_op_iterations)&&((diffpair_nmos_leak>diffpair_nmos_config_kcl_th)||(diffpair_nmos_design_feedback>diffpair_nmos_config_design_feedback_th));op_it++) {
        float previous_out_dc=outp_V;
        composite_gamma_gcc_interpolate_2p3(p_1_bin,Pdiffpair_nmos_look_up_tables_pch_Ids_ss_CONTEXT,Pdiffpair_nmos_look_up_tables_pch_gm_ss_CONTEXT,Pdiffpair_nmos_look_up_tables_pch_go_ss_CONTEXT,Pdiffpair_nmos_look_up_tables_pch_gb_ss_CONTEXT,&(p_1_gb),&(p_1_gm),&(p_1_go),&(p_1_Ids),(outm_V)-(vdd_V),(outm_V)-(vdd_V),(vdd_V)-(vdd_V),size_Lp,size_Wp);
        if (p_1_Ids<0) p_1_Ids=0;
        if (p_1_Ids>1e-3) p_1_Ids=1e-3;
        p_1_Ids=-p_1_Ids;
        composite_gamma_gcc_interpolate_2p3(p_2_bin,Pdiffpair_nmos_look_up_tables_pch_Ids_ss_CONTEXT,Pdiffpair_nmos_look_up_tables_pch_gm_ss_CONTEXT,Pdiffpair_nmos_look_up_tables_pch_go_ss_CONTEXT,Pdiffpair_nmos_look_up_tables_pch_gb_ss_CONTEXT,&(p_2_gb),&(p_2_gm),&(p_2_go),&(p_2_Ids),(outm_V)-(vdd_V),(outp_V)-(vdd_V),(vdd_V)-(vdd_V),size_Lp,size_Wp);
        if (p_2_Ids<0) p_2_Ids=0;
        if (p_2_Ids>1e-3) p_2_Ids=1e-3;
        p_2_Ids=-p_2_Ids;
        composite_gamma_gcc_interpolate_2p3(nin_1_bin,Pdiffpair_nmos_look_up_tables_nch_Ids_ss_CONTEXT,Pdiffpair_nmos_look_up_tables_nch_gm_ss_CONTEXT,Pdiffpair_nmos_look_up_tables_nch_go_ss_CONTEXT,Pdiffpair_nmos_look_up_tables_nch_gb_ss_CONTEXT,&(nin_1_gb),&(nin_1_gm),&(nin_1_go),&(nin_1_Ids),(inp_V)-(tail_V),(outm_V)-(tail_V),(CONST_0_V)-(tail_V),size_Ln,size_Wn);
        if (nin_1_Ids<0) nin_1_Ids=0;
        if (nin_1_Ids>1e-3) nin_1_Ids=1e-3;
        composite_gamma_gcc_interpolate_2p3(nin_2_bin,Pdiffpair_nmos_look_up_tables_nch_Ids_ss_CONTEXT,Pdiffpair_nmos_look_up_tables_nch_gm_ss_CONTEXT,Pdiffpair_nmos_look_up_tables_nch_go_ss_CONTEXT,Pdiffpair_nmos_look_up_tables_nch_gb_ss_CONTEXT,&(nin_2_gb),&(nin_2_gm),&(nin_2_go),&(nin_2_Ids),(inn_V)-(tail_V),(outp_V)-(tail_V),(CONST_0_V)-(tail_V),size_Ln,size_Wn);
        if (nin_2_Ids<0) nin_2_Ids=0;
        if (nin_2_Ids>1e-3) nin_2_Ids=1e-3;
        composite_gamma_gcc_interpolate_2p3(ntail_bin,Pdiffpair_nmos_look_up_tables_nch_Ids_ss_CONTEXT,Pdiffpair_nmos_look_up_tables_nch_gm_ss_CONTEXT,Pdiffpair_nmos_look_up_tables_nch_go_ss_CONTEXT,Pdiffpair_nmos_look_up_tables_nch_gb_ss_CONTEXT,&(ntail_gb),&(ntail_gm),&(ntail_go),&(ntail_Ids),(vbias_V)-(CONST_0_V),(tail_V)-(CONST_0_V),(CONST_0_V)-(CONST_0_V),size_Ls,size_Ls*2*size_Wn/size_Ln);
        if (ntail_Ids<0) ntail_Ids=0;
        if (ntail_Ids>1e-3) ntail_Ids=1e-3;
        composite_gamma_gcc_interpolate_2p3(nref_bin,Pdiffpair_nmos_look_up_tables_nch_Ids_ss_CONTEXT,Pdiffpair_nmos_look_up_tables_nch_gm_ss_CONTEXT,Pdiffpair_nmos_look_up_tables_nch_go_ss_CONTEXT,Pdiffpair_nmos_look_up_tables_nch_gb_ss_CONTEXT,&(nref_gb),&(nref_gm),&(nref_go),&(nref_Ids),(vbias_V)-(CONST_0_V),(vbias_V)-(CONST_0_V),(CONST_0_V)-(CONST_0_V),size_Ls,size_Ls*2*size_Wn/size_Ln);
        if (nref_Ids<0) nref_Ids=0;
        if (nref_Ids>1e-3) nref_Ids=1e-3;
        if (p_1_gm==0) p_1_gm=1e-6;
        if (p_1_go==0) p_1_go=1e-6;
        if (p_2_gm==0) p_2_gm=1e-6;
        if (p_2_go==0) p_2_go=1e-6;
        if (nin_1_gm==0) nin_1_gm=1e-6;
        if (nin_1_go==0) nin_1_go=1e-6;
        if (nin_2_gm==0) nin_2_gm=1e-6;
        if (nin_2_go==0) nin_2_go=1e-6;
        if (ntail_gm==0) ntail_gm=1e-6;
        if (ntail_go==0) ntail_go=1e-6;
        if (nref_gm==0) nref_gm=1e-6;
        if (nref_go==0) nref_go=1e-6;
        // Updating node voltages
        diffpair_nmos_leak=0;
        node_step=diffpair_nmos_config_kcl_step*(-nin_1_Ids-p_1_Ids)/(p_1_go+p_1_gm+nin_1_go);
        if (node_step<-0.02) node_step=-0.02;
        if (node_step>0.02) node_step=0.02;
        outm_V+=node_step;
        if (fabs(-nin_1_Ids-p_1_Ids)>diffpair_nmos_leak) diffpair_nmos_leak=fabs(-nin_1_Ids-p_1_Ids);
        if (outm_V<0) outm_V=0;
        if (outm_V>1.1) outm_V=1.1;
        node_step=diffpair_nmos_config_kcl_step*(-nin_2_Ids-p_2_Ids)/(p_2_go+nin_2_go);
        if (node_step<-0.02) node_step=-0.02;
        if (node_step>0.02) node_step=0.02;
        outp_V+=node_step;
        if (fabs(-nin_2_Ids-p_2_Ids)>diffpair_nmos_leak) diffpair_nmos_leak=fabs(-nin_2_Ids-p_2_Ids);
        if (outp_V<0) outp_V=0;
        if (outp_V>1.1) outp_V=1.1;
        node_step=diffpair_nmos_config_kcl_step*(-ntail_Ids+nin_2_Ids+nin_1_Ids)/(nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go);
        if (node_step<-0.02) node_step=-0.02;
        if (node_step>0.02) node_step=0.02;
        tail_V+=node_step;
        if (fabs(-ntail_Ids+nin_2_Ids+nin_1_Ids)>diffpair_nmos_leak) diffpair_nmos_leak=fabs(-ntail_Ids+nin_2_Ids+nin_1_Ids);
        if (tail_V<0) tail_V=0;
        if (tail_V>1.1) tail_V=1.1;
        node_step=diffpair_nmos_config_kcl_step*(-nref_Ids+size_iref)/(nref_go+nref_gm);
        if (node_step<-0.02) node_step=-0.02;
        if (node_step>0.02) node_step=0.02;
        vbias_V+=node_step;
        if (fabs(-nref_Ids+size_iref)>diffpair_nmos_leak) diffpair_nmos_leak=fabs(-nref_Ids+size_iref);
        if (vbias_V<0) vbias_V=0;
        if (vbias_V>1.1) vbias_V=1.1;
        diffpair_nmos_design_feedback=0;
    }
    if (op_it>=diffpair_nmos_config_op_iterations) {diffpair_nmos_status_fail=diffpair_nmos_leak; return TCL_ERROR;}
    if (vdd_V<outm_V) {diffpair_nmos_status_fail=4; return TCL_ERROR;}
    if (vdd_V<outp_V) {diffpair_nmos_status_fail=4; return TCL_ERROR;}
    if (tail_V>outm_V) {diffpair_nmos_status_fail=3; return TCL_ERROR;}
    if (tail_V>outp_V) {diffpair_nmos_status_fail=3; return TCL_ERROR;}
    if (CONST_0_V>tail_V) {diffpair_nmos_status_fail=3; return TCL_ERROR;}
    if (CONST_0_V>vbias_V) {diffpair_nmos_status_fail=3; return TCL_ERROR;}
    float W,M;
    double Det=(-(((p_1_go+p_1_gm)+nin_1_go)*((p_2_go+nin_2_go)*((((((nin_1_go+nin_1_gm)+nin_1_gb)+nin_2_go)+nin_2_gm)+nin_2_gb)+ntail_go)*(nref_go+nref_gm)-(((-nin_2_go)-nin_2_gm)-nin_2_gb)*(-nin_2_go)*(nref_go+nref_gm))+(((-nin_1_go)-nin_1_gm)-nin_1_gb)*(p_2_gm*(-nin_2_go)*(nref_go+nref_gm)-(p_2_go+nin_2_go)*(-nin_1_go)*(nref_go+nref_gm))));
    double Ted=1/Det;
    double der_p=(-0);
    double der_n=(-0);
    diffpair_nmos_property_Adc=0.5*Ted*(fabs(der_p)+fabs(der_n));
    diffpair_nmos_property_CMRR=Ted*(fabs(der_p)-fabs(der_n));
    diffpair_nmos_property_PSRR=Ted*((-0));
    diffpair_nmos_property_Adc=fabs(diffpair_nmos_property_Adc);
    if ((diffpair_nmos_property_Adc<1)&&(diffpair_nmos_config_fail_on_properties)) {diffpair_nmos_status_fail=2; return TCL_ERROR;}
    diffpair_nmos_property_Rout=fabs(((-(((p_1_go+p_1_gm)+nin_1_go)*((((((nin_1_go+nin_1_gm)+nin_1_gb)+nin_2_go)+nin_2_gm)+nin_2_gb)+ntail_go)*(nref_go+nref_gm)+(((-nin_1_go)-nin_1_gm)-nin_1_gb)*(-(-nin_1_go)*(nref_go+nref_gm)))))*Ted);
    float s=-1;
    int BW_it;
    W=0;
    float BW_Mag0=1;
    float BW_Mag=1;
    float snr;
    float sni;
    float sdr;
    float sdi;
    while ((BW_Mag0/BW_Mag)<2) {
        snr=0;
        sni=0;
        sdr=-((p_1_go+p_1_gm+nin_1_go)*((p_2_go+nin_2_go)*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(nref_go+nref_gm)-(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+ntail_cdg*W*ntail_cgd*W)-(p_2_cdd*W+nin_2_cdd*W)*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(nref_go+nref_gm)-ntail_gm*ntail_cgd*W)-((-nin_2_go-nin_2_gm-nin_2_gb)*(-nin_2_go)-nin_2_cds*W*nin_2_csd*W)*(nref_go+nref_gm)-((-nin_2_go-nin_2_gm-nin_2_gb)*nin_2_csd*W+nin_2_cds*W*(-nin_2_go))*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W))-(p_1_cgd*W+p_1_cgg*W+p_1_cdd*W+p_1_cdg*W+p_2_cgg*W+nin_1_cdd*W)*((p_2_go+nin_2_go)*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(nref_go+nref_gm)-ntail_gm*ntail_cgd*W)+(p_2_cdd*W+nin_2_cdd*W)*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(nref_go+nref_gm)-(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+ntail_cdg*W*ntail_cgd*W)-((-nin_2_go-nin_2_gm-nin_2_gb)*(-nin_2_go)-nin_2_cds*W*nin_2_csd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+((-nin_2_go-nin_2_gm-nin_2_gb)*nin_2_csd*W+nin_2_cds*W*(-nin_2_go))*(nref_go+nref_gm))+(p_2_cgd*W*(p_2_gm*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(nref_go+nref_gm)-ntail_gm*ntail_cgd*W)+p_2_cdg*W*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(nref_go+nref_gm)-(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+ntail_cdg*W*ntail_cgd*W)-((-nin_2_go-nin_2_gm-nin_2_gb)*(-nin_1_go)-nin_2_cds*W*nin_1_csd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+((-nin_2_go-nin_2_gm-nin_2_gb)*nin_1_csd*W+nin_2_cds*W*(-nin_1_go))*(nref_go+nref_gm)))+(-nin_1_go-nin_1_gm-nin_1_gb)*((p_2_gm*(-nin_2_go)-p_2_cdg*W*nin_2_csd*W)*(nref_go+nref_gm)-(p_2_gm*nin_2_csd*W+p_2_cdg*W*(-nin_2_go))*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)-((p_2_go+nin_2_go)*(-nin_1_go)-(p_2_cdd*W+nin_2_cdd*W)*nin_1_csd*W)*(nref_go+nref_gm)-((p_2_go+nin_2_go)*nin_1_csd*W+(p_2_cdd*W+nin_2_cdd*W)*(-nin_1_go))*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W))-nin_1_cds*W*((p_2_gm*(-nin_2_go)-p_2_cdg*W*nin_2_csd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+(p_2_gm*nin_2_csd*W+p_2_cdg*W*(-nin_2_go))*(nref_go+nref_gm)-((p_2_go+nin_2_go)*(-nin_1_go)-(p_2_cdd*W+nin_2_cdd*W)*nin_1_csd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+((p_2_go+nin_2_go)*nin_1_csd*W+(p_2_cdd*W+nin_2_cdd*W)*(-nin_1_go))*(nref_go+nref_gm)));
        sdi=-((p_1_go+p_1_gm+nin_1_go)*((p_2_go+nin_2_go)*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(nref_go+nref_gm)-ntail_gm*ntail_cgd*W)+(p_2_cdd*W+nin_2_cdd*W)*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(nref_go+nref_gm)-(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+ntail_cdg*W*ntail_cgd*W)-((-nin_2_go-nin_2_gm-nin_2_gb)*(-nin_2_go)-nin_2_cds*W*nin_2_csd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+((-nin_2_go-nin_2_gm-nin_2_gb)*nin_2_csd*W+nin_2_cds*W*(-nin_2_go))*(nref_go+nref_gm))+(p_1_cgd*W+p_1_cgg*W+p_1_cdd*W+p_1_cdg*W+p_2_cgg*W+nin_1_cdd*W)*((p_2_go+nin_2_go)*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(nref_go+nref_gm)-(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+ntail_cdg*W*ntail_cgd*W)-(p_2_cdd*W+nin_2_cdd*W)*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(nref_go+nref_gm)-ntail_gm*ntail_cgd*W)-((-nin_2_go-nin_2_gm-nin_2_gb)*(-nin_2_go)-nin_2_cds*W*nin_2_csd*W)*(nref_go+nref_gm)-((-nin_2_go-nin_2_gm-nin_2_gb)*nin_2_csd*W+nin_2_cds*W*(-nin_2_go))*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W))-p_2_cgd*W*(p_2_gm*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(nref_go+nref_gm)-(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+ntail_cdg*W*ntail_cgd*W)-p_2_cdg*W*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(nref_go+nref_gm)-ntail_gm*ntail_cgd*W)-((-nin_2_go-nin_2_gm-nin_2_gb)*(-nin_1_go)-nin_2_cds*W*nin_1_csd*W)*(nref_go+nref_gm)-((-nin_2_go-nin_2_gm-nin_2_gb)*nin_1_csd*W+nin_2_cds*W*(-nin_1_go))*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W))+(-nin_1_go-nin_1_gm-nin_1_gb)*((p_2_gm*(-nin_2_go)-p_2_cdg*W*nin_2_csd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+(p_2_gm*nin_2_csd*W+p_2_cdg*W*(-nin_2_go))*(nref_go+nref_gm)-((p_2_go+nin_2_go)*(-nin_1_go)-(p_2_cdd*W+nin_2_cdd*W)*nin_1_csd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+((p_2_go+nin_2_go)*nin_1_csd*W+(p_2_cdd*W+nin_2_cdd*W)*(-nin_1_go))*(nref_go+nref_gm))+nin_1_cds*W*((p_2_gm*(-nin_2_go)-p_2_cdg*W*nin_2_csd*W)*(nref_go+nref_gm)-(p_2_gm*nin_2_csd*W+p_2_cdg*W*(-nin_2_go))*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)-((p_2_go+nin_2_go)*(-nin_1_go)-(p_2_cdd*W+nin_2_cdd*W)*nin_1_csd*W)*(nref_go+nref_gm)-((p_2_go+nin_2_go)*nin_1_csd*W+(p_2_cdd*W+nin_2_cdd*W)*(-nin_1_go))*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)));
        BW_Mag=(snr*snr+sni*sni)/(sdr*sdr+sdi*sdi);
        if (W==0) BW_Mag0=BW_Mag;
        if (W==0) W=1; else W*=1.01;
    }
    diffpair_nmos_property_BW=fabs(W/(2*3.141592656));
    for (BW_it=0;BW_it<5;BW_it++)  s-=((-((((((((((p_1_go+p_1_gm)+p_1_cgd*s)+p_1_cgg*s)+p_1_cdd*s)+p_1_cdg*s)+p_2_cgg*s)+nin_1_go)+nin_1_cdd*s)*((((p_2_go+p_2_cdd*s)+nin_2_go)+nin_2_cdd*s)*((((((((((nin_1_go+nin_1_gm)+nin_1_gb)+nin_1_css*s)+nin_2_go)+nin_2_gm)+nin_2_gb)+nin_2_css*s)+ntail_go)+ntail_cdd*s)*((((((ntail_cgg*s+nref_go)+nref_gm)+nref_cgd*s)+nref_cgg*s)+nref_cdd*s)+nref_cdg*s)-(ntail_gm+ntail_cdg*s)*ntail_cgd*s)-((((-nin_2_go)-nin_2_gm)-nin_2_gb)+nin_2_cds*s)*((-nin_2_go)+nin_2_csd*s)*((((((ntail_cgg*s+nref_go)+nref_gm)+nref_cgd*s)+nref_cgg*s)+nref_cdd*s)+nref_cdg*s))-p_2_cgd*s*((p_2_gm+p_2_cdg*s)*((((((((((nin_1_go+nin_1_gm)+nin_1_gb)+nin_1_css*s)+nin_2_go)+nin_2_gm)+nin_2_gb)+nin_2_css*s)+ntail_go)+ntail_cdd*s)*((((((ntail_cgg*s+nref_go)+nref_gm)+nref_cgd*s)+nref_cgg*s)+nref_cdd*s)+nref_cdg*s)-(ntail_gm+ntail_cdg*s)*ntail_cgd*s)-((((-nin_2_go)-nin_2_gm)-nin_2_gb)+nin_2_cds*s)*((-nin_1_go)+nin_1_csd*s)*((((((ntail_cgg*s+nref_go)+nref_gm)+nref_cgd*s)+nref_cgg*s)+nref_cdd*s)+nref_cdg*s)))+((((-nin_1_go)-nin_1_gm)-nin_1_gb)+nin_1_cds*s)*((p_2_gm+p_2_cdg*s)*((-nin_2_go)+nin_2_csd*s)*((((((ntail_cgg*s+nref_go)+nref_gm)+nref_cgd*s)+nref_cgg*s)+nref_cdd*s)+nref_cdg*s)-(((p_2_go+p_2_cdd*s)+nin_2_go)+nin_2_cdd*s)*((-nin_1_go)+nin_1_csd*s)*((((((ntail_cgg*s+nref_go)+nref_gm)+nref_cgd*s)+nref_cgg*s)+nref_cdd*s)+nref_cdg*s)))))/((-0));
    diffpair_nmos_property_BW_s=(-0);
    diffpair_nmos_p1=-s;
    if (!isfinite(diffpair_nmos_property_BW))  {diffpair_nmos_status_fail=8; return TCL_ERROR;}
    s-=1e3;
    for (BW_it=0;BW_it<20;BW_it++)  s-=(((-((((((((((p_1_go+p_1_gm)+p_1_cgd*s)+p_1_cgg*s)+p_1_cdd*s)+p_1_cdg*s)+p_2_cgg*s)+nin_1_go)+nin_1_cdd*s)*((((p_2_go+p_2_cdd*s)+nin_2_go)+nin_2_cdd*s)*((((((((((nin_1_go+nin_1_gm)+nin_1_gb)+nin_1_css*s)+nin_2_go)+nin_2_gm)+nin_2_gb)+nin_2_css*s)+ntail_go)+ntail_cdd*s)*((((((ntail_cgg*s+nref_go)+nref_gm)+nref_cgd*s)+nref_cgg*s)+nref_cdd*s)+nref_cdg*s)-(ntail_gm+ntail_cdg*s)*ntail_cgd*s)-((((-nin_2_go)-nin_2_gm)-nin_2_gb)+nin_2_cds*s)*((-nin_2_go)+nin_2_csd*s)*((((((ntail_cgg*s+nref_go)+nref_gm)+nref_cgd*s)+nref_cgg*s)+nref_cdd*s)+nref_cdg*s))-p_2_cgd*s*((p_2_gm+p_2_cdg*s)*((((((((((nin_1_go+nin_1_gm)+nin_1_gb)+nin_1_css*s)+nin_2_go)+nin_2_gm)+nin_2_gb)+nin_2_css*s)+ntail_go)+ntail_cdd*s)*((((((ntail_cgg*s+nref_go)+nref_gm)+nref_cgd*s)+nref_cgg*s)+nref_cdd*s)+nref_cdg*s)-(ntail_gm+ntail_cdg*s)*ntail_cgd*s)-((((-nin_2_go)-nin_2_gm)-nin_2_gb)+nin_2_cds*s)*((-nin_1_go)+nin_1_csd*s)*((((((ntail_cgg*s+nref_go)+nref_gm)+nref_cgd*s)+nref_cgg*s)+nref_cdd*s)+nref_cdg*s)))+((((-nin_1_go)-nin_1_gm)-nin_1_gb)+nin_1_cds*s)*((p_2_gm+p_2_cdg*s)*((-nin_2_go)+nin_2_csd*s)*((((((ntail_cgg*s+nref_go)+nref_gm)+nref_cgd*s)+nref_cgg*s)+nref_cdd*s)+nref_cdg*s)-(((p_2_go+p_2_cdd*s)+nin_2_go)+nin_2_cdd*s)*((-nin_1_go)+nin_1_csd*s)*((((((ntail_cgg*s+nref_go)+nref_gm)+nref_cgd*s)+nref_cgg*s)+nref_cdd*s)+nref_cdg*s)))))*(s+diffpair_nmos_p1-5e2))/(((-0))*(s+diffpair_nmos_p1-5e2)-((-((((((((((p_1_go+p_1_gm)+p_1_cgd*s)+p_1_cgg*s)+p_1_cdd*s)+p_1_cdg*s)+p_2_cgg*s)+nin_1_go)+nin_1_cdd*s)*((((p_2_go+p_2_cdd*s)+nin_2_go)+nin_2_cdd*s)*((((((((((nin_1_go+nin_1_gm)+nin_1_gb)+nin_1_css*s)+nin_2_go)+nin_2_gm)+nin_2_gb)+nin_2_css*s)+ntail_go)+ntail_cdd*s)*((((((ntail_cgg*s+nref_go)+nref_gm)+nref_cgd*s)+nref_cgg*s)+nref_cdd*s)+nref_cdg*s)-(ntail_gm+ntail_cdg*s)*ntail_cgd*s)-((((-nin_2_go)-nin_2_gm)-nin_2_gb)+nin_2_cds*s)*((-nin_2_go)+nin_2_csd*s)*((((((ntail_cgg*s+nref_go)+nref_gm)+nref_cgd*s)+nref_cgg*s)+nref_cdd*s)+nref_cdg*s))-p_2_cgd*s*((p_2_gm+p_2_cdg*s)*((((((((((nin_1_go+nin_1_gm)+nin_1_gb)+nin_1_css*s)+nin_2_go)+nin_2_gm)+nin_2_gb)+nin_2_css*s)+ntail_go)+ntail_cdd*s)*((((((ntail_cgg*s+nref_go)+nref_gm)+nref_cgd*s)+nref_cgg*s)+nref_cdd*s)+nref_cdg*s)-(ntail_gm+ntail_cdg*s)*ntail_cgd*s)-((((-nin_2_go)-nin_2_gm)-nin_2_gb)+nin_2_cds*s)*((-nin_1_go)+nin_1_csd*s)*((((((ntail_cgg*s+nref_go)+nref_gm)+nref_cgd*s)+nref_cgg*s)+nref_cdd*s)+nref_cdg*s)))+((((-nin_1_go)-nin_1_gm)-nin_1_gb)+nin_1_cds*s)*((p_2_gm+p_2_cdg*s)*((-nin_2_go)+nin_2_csd*s)*((((((ntail_cgg*s+nref_go)+nref_gm)+nref_cgd*s)+nref_cgg*s)+nref_cdd*s)+nref_cdg*s)-(((p_2_go+p_2_cdd*s)+nin_2_go)+nin_2_cdd*s)*((-nin_1_go)+nin_1_csd*s)*((((((ntail_cgg*s+nref_go)+nref_gm)+nref_cgd*s)+nref_cgg*s)+nref_cdd*s)+nref_cdg*s))))));
    diffpair_nmos_p2=-s;
    if (!isfinite(diffpair_nmos_p1)) {
        diffpair_nmos_property_ts=1/diffpair_nmos_property_BW;
    } else if (!isfinite(diffpair_nmos_p2)) {
        diffpair_nmos_property_ts=-log(0.02)/diffpair_nmos_p1;
    } else {
        float A1=-diffpair_nmos_p2/(-diffpair_nmos_p1+diffpair_nmos_p2);
        float A2=-diffpair_nmos_p1/(-diffpair_nmos_p1+diffpair_nmos_p2);
        diffpair_nmos_property_ts=0;
        for (BW_it=0;BW_it<10;BW_it++) diffpair_nmos_property_ts-=(0.02+A1*exp(-diffpair_nmos_p1*diffpair_nmos_property_ts)+A2*exp(-diffpair_nmos_p2*diffpair_nmos_property_ts))/(-diffpair_nmos_p1*A1*exp(-diffpair_nmos_p1*diffpair_nmos_property_ts)-diffpair_nmos_p2*A2*exp(-diffpair_nmos_p2*diffpair_nmos_property_ts));
    }
    if (!isfinite(diffpair_nmos_property_ts)) {
        diffpair_nmos_property_ts=1/diffpair_nmos_property_BW;
    }
    diffpair_nmos_property_Cin=nin_1_cgd+nin_1_cgs;
    diffpair_nmos_property_PM=(diffpair_nmos_property_BW/9.76e8)+(diffpair_nmos_property_Adc-21)-sqrt(size_Ln*size_Wn)/5e-7-diffpair_nmos_size_iref*2.5e4;
    diffpair_nmos_property_PM=(diffpair_nmos_property_PM*180/3.1415)/2.16+29-1.4-0.75/2;
    while (diffpair_nmos_property_PM<0) diffpair_nmos_property_PM+=360;
    while (fabs(diffpair_nmos_property_PM)>180) diffpair_nmos_property_PM-=360;
    diffpair_nmos_property_PM=fabs(diffpair_nmos_property_PM);
    while (BW_Mag>4) {
        snr=0;
        sni=0;
        sdr=-((p_1_go+p_1_gm+nin_1_go)*((p_2_go+nin_2_go)*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(nref_go+nref_gm)-(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+ntail_cdg*W*ntail_cgd*W)-(p_2_cdd*W+nin_2_cdd*W)*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(nref_go+nref_gm)-ntail_gm*ntail_cgd*W)-((-nin_2_go-nin_2_gm-nin_2_gb)*(-nin_2_go)-nin_2_cds*W*nin_2_csd*W)*(nref_go+nref_gm)-((-nin_2_go-nin_2_gm-nin_2_gb)*nin_2_csd*W+nin_2_cds*W*(-nin_2_go))*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W))-(p_1_cgd*W+p_1_cgg*W+p_1_cdd*W+p_1_cdg*W+p_2_cgg*W+nin_1_cdd*W)*((p_2_go+nin_2_go)*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(nref_go+nref_gm)-ntail_gm*ntail_cgd*W)+(p_2_cdd*W+nin_2_cdd*W)*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(nref_go+nref_gm)-(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+ntail_cdg*W*ntail_cgd*W)-((-nin_2_go-nin_2_gm-nin_2_gb)*(-nin_2_go)-nin_2_cds*W*nin_2_csd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+((-nin_2_go-nin_2_gm-nin_2_gb)*nin_2_csd*W+nin_2_cds*W*(-nin_2_go))*(nref_go+nref_gm))+(p_2_cgd*W*(p_2_gm*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(nref_go+nref_gm)-ntail_gm*ntail_cgd*W)+p_2_cdg*W*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(nref_go+nref_gm)-(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+ntail_cdg*W*ntail_cgd*W)-((-nin_2_go-nin_2_gm-nin_2_gb)*(-nin_1_go)-nin_2_cds*W*nin_1_csd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+((-nin_2_go-nin_2_gm-nin_2_gb)*nin_1_csd*W+nin_2_cds*W*(-nin_1_go))*(nref_go+nref_gm)))+(-nin_1_go-nin_1_gm-nin_1_gb)*((p_2_gm*(-nin_2_go)-p_2_cdg*W*nin_2_csd*W)*(nref_go+nref_gm)-(p_2_gm*nin_2_csd*W+p_2_cdg*W*(-nin_2_go))*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)-((p_2_go+nin_2_go)*(-nin_1_go)-(p_2_cdd*W+nin_2_cdd*W)*nin_1_csd*W)*(nref_go+nref_gm)-((p_2_go+nin_2_go)*nin_1_csd*W+(p_2_cdd*W+nin_2_cdd*W)*(-nin_1_go))*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W))-nin_1_cds*W*((p_2_gm*(-nin_2_go)-p_2_cdg*W*nin_2_csd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+(p_2_gm*nin_2_csd*W+p_2_cdg*W*(-nin_2_go))*(nref_go+nref_gm)-((p_2_go+nin_2_go)*(-nin_1_go)-(p_2_cdd*W+nin_2_cdd*W)*nin_1_csd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+((p_2_go+nin_2_go)*nin_1_csd*W+(p_2_cdd*W+nin_2_cdd*W)*(-nin_1_go))*(nref_go+nref_gm)));
        sdi=-((p_1_go+p_1_gm+nin_1_go)*((p_2_go+nin_2_go)*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(nref_go+nref_gm)-ntail_gm*ntail_cgd*W)+(p_2_cdd*W+nin_2_cdd*W)*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(nref_go+nref_gm)-(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+ntail_cdg*W*ntail_cgd*W)-((-nin_2_go-nin_2_gm-nin_2_gb)*(-nin_2_go)-nin_2_cds*W*nin_2_csd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+((-nin_2_go-nin_2_gm-nin_2_gb)*nin_2_csd*W+nin_2_cds*W*(-nin_2_go))*(nref_go+nref_gm))+(p_1_cgd*W+p_1_cgg*W+p_1_cdd*W+p_1_cdg*W+p_2_cgg*W+nin_1_cdd*W)*((p_2_go+nin_2_go)*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(nref_go+nref_gm)-(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+ntail_cdg*W*ntail_cgd*W)-(p_2_cdd*W+nin_2_cdd*W)*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(nref_go+nref_gm)-ntail_gm*ntail_cgd*W)-((-nin_2_go-nin_2_gm-nin_2_gb)*(-nin_2_go)-nin_2_cds*W*nin_2_csd*W)*(nref_go+nref_gm)-((-nin_2_go-nin_2_gm-nin_2_gb)*nin_2_csd*W+nin_2_cds*W*(-nin_2_go))*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W))-p_2_cgd*W*(p_2_gm*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(nref_go+nref_gm)-(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+ntail_cdg*W*ntail_cgd*W)-p_2_cdg*W*((nin_1_go+nin_1_gm+nin_1_gb+nin_2_go+nin_2_gm+nin_2_gb+ntail_go)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+(nin_1_css*W+nin_2_css*W+ntail_cdd*W)*(nref_go+nref_gm)-ntail_gm*ntail_cgd*W)-((-nin_2_go-nin_2_gm-nin_2_gb)*(-nin_1_go)-nin_2_cds*W*nin_1_csd*W)*(nref_go+nref_gm)-((-nin_2_go-nin_2_gm-nin_2_gb)*nin_1_csd*W+nin_2_cds*W*(-nin_1_go))*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W))+(-nin_1_go-nin_1_gm-nin_1_gb)*((p_2_gm*(-nin_2_go)-p_2_cdg*W*nin_2_csd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+(p_2_gm*nin_2_csd*W+p_2_cdg*W*(-nin_2_go))*(nref_go+nref_gm)-((p_2_go+nin_2_go)*(-nin_1_go)-(p_2_cdd*W+nin_2_cdd*W)*nin_1_csd*W)*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)+((p_2_go+nin_2_go)*nin_1_csd*W+(p_2_cdd*W+nin_2_cdd*W)*(-nin_1_go))*(nref_go+nref_gm))+nin_1_cds*W*((p_2_gm*(-nin_2_go)-p_2_cdg*W*nin_2_csd*W)*(nref_go+nref_gm)-(p_2_gm*nin_2_csd*W+p_2_cdg*W*(-nin_2_go))*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)-((p_2_go+nin_2_go)*(-nin_1_go)-(p_2_cdd*W+nin_2_cdd*W)*nin_1_csd*W)*(nref_go+nref_gm)-((p_2_go+nin_2_go)*nin_1_csd*W+(p_2_cdd*W+nin_2_cdd*W)*(-nin_1_go))*(ntail_cgg*W+nref_cgd*W+nref_cgg*W+nref_cdd*W+nref_cdg*W)));
        BW_Mag=(snr*snr+sni*sni)/(sdr*sdr+sdi*sdi);
        W*=1.01;
    }
    diffpair_nmos_property_PM=180-180*(atan(sni/snr)-atan(sdi/sdr))/3.1415926;
    p_1_Nt_unit=gamma_gcc_interpolateg_4(P_look_up_tables_pch_thermal_noise_ss_LUT,(outm_V-vdd_V),(outm_V-vdd_V),0,size_Lp,&p_1_dNt_dvgs,&p_1_dNt_dvds,&p_1_dNt_dvbs,&p_1_dNt_dl);
    p_1_Nt=p_1_Nt_unit*p_1_go;
    if (!isfinite(p_1_Nt))  {diffpair_nmos_status_fail=5; return TCL_ERROR;}
    p_1_Nf_unit=gamma_gcc_interpolateg_4(P_look_up_tables_pch_flicker_noise_ss_LUT,(outm_V-vdd_V),(outm_V-vdd_V),0,size_Lp,&p_1_dNf_dvgs,&p_1_dNf_dvds,&p_1_dNf_dvbs,&p_1_dNf_dl);
    p_1_Nf=p_1_Nf_unit*p_1_go*p_1_go/(size_Wp*size_Lp);
    if (!isfinite(p_1_Nf))  {diffpair_nmos_status_fail=6; return TCL_ERROR;}
    p_2_Nt_unit=gamma_gcc_interpolateg_4(P_look_up_tables_pch_thermal_noise_ss_LUT,(outm_V-vdd_V),(outp_V-vdd_V),0,size_Lp,&p_2_dNt_dvgs,&p_2_dNt_dvds,&p_2_dNt_dvbs,&p_2_dNt_dl);
    p_2_Nt=p_2_Nt_unit*p_2_go;
    if (!isfinite(p_2_Nt))  {diffpair_nmos_status_fail=5; return TCL_ERROR;}
    p_2_Nf_unit=gamma_gcc_interpolateg_4(P_look_up_tables_pch_flicker_noise_ss_LUT,(outm_V-vdd_V),(outp_V-vdd_V),0,size_Lp,&p_2_dNf_dvgs,&p_2_dNf_dvds,&p_2_dNf_dvbs,&p_2_dNf_dl);
    p_2_Nf=p_2_Nf_unit*p_2_go*p_2_go/(size_Wp*size_Lp);
    if (!isfinite(p_2_Nf))  {diffpair_nmos_status_fail=6; return TCL_ERROR;}
    nin_1_Nt_unit=gamma_gcc_interpolateg_4(P_look_up_tables_nch_thermal_noise_ss_LUT,(inp_V-tail_V),(outm_V-tail_V),(-tail_V),size_Ln,&nin_1_dNt_dvgs,&nin_1_dNt_dvds,&nin_1_dNt_dvbs,&nin_1_dNt_dl);
    nin_1_Nt=nin_1_Nt_unit*nin_1_go;
    if (!isfinite(nin_1_Nt))  {diffpair_nmos_status_fail=5; return TCL_ERROR;}
    nin_1_Nf_unit=gamma_gcc_interpolateg_4(P_look_up_tables_nch_flicker_noise_ss_LUT,(inp_V-tail_V),(outm_V-tail_V),(-tail_V),size_Ln,&nin_1_dNf_dvgs,&nin_1_dNf_dvds,&nin_1_dNf_dvbs,&nin_1_dNf_dl);
    nin_1_Nf=nin_1_Nf_unit*nin_1_go*nin_1_go/(size_Wn*size_Ln);
    if (!isfinite(nin_1_Nf))  {diffpair_nmos_status_fail=6; return TCL_ERROR;}
    nin_2_Nt_unit=gamma_gcc_interpolateg_4(P_look_up_tables_nch_thermal_noise_ss_LUT,(inn_V-tail_V),(outp_V-tail_V),(-tail_V),size_Ln,&nin_2_dNt_dvgs,&nin_2_dNt_dvds,&nin_2_dNt_dvbs,&nin_2_dNt_dl);
    nin_2_Nt=nin_2_Nt_unit*nin_2_go;
    if (!isfinite(nin_2_Nt))  {diffpair_nmos_status_fail=5; return TCL_ERROR;}
    nin_2_Nf_unit=gamma_gcc_interpolateg_4(P_look_up_tables_nch_flicker_noise_ss_LUT,(inn_V-tail_V),(outp_V-tail_V),(-tail_V),size_Ln,&nin_2_dNf_dvgs,&nin_2_dNf_dvds,&nin_2_dNf_dvbs,&nin_2_dNf_dl);
    nin_2_Nf=nin_2_Nf_unit*nin_2_go*nin_2_go/(size_Wn*size_Ln);
    if (!isfinite(nin_2_Nf))  {diffpair_nmos_status_fail=6; return TCL_ERROR;}
    ntail_Nt_unit=gamma_gcc_interpolateg_4(P_look_up_tables_nch_thermal_noise_ss_LUT,vbias_V,tail_V,CONST_0_V,size_Ls,&ntail_dNt_dvgs,&ntail_dNt_dvds,&ntail_dNt_dvbs,&ntail_dNt_dl);
    ntail_Nt=ntail_Nt_unit*ntail_go;
    if (!isfinite(ntail_Nt))  {diffpair_nmos_status_fail=5; return TCL_ERROR;}
    ntail_Nf_unit=gamma_gcc_interpolateg_4(P_look_up_tables_nch_flicker_noise_ss_LUT,vbias_V,tail_V,CONST_0_V,size_Ls,&ntail_dNf_dvgs,&ntail_dNf_dvds,&ntail_dNf_dvbs,&ntail_dNf_dl);
    ntail_Nf=ntail_Nf_unit*ntail_go*ntail_go/(size_Ls*2*size_Wn/size_Ln*size_Ls);
    if (!isfinite(ntail_Nf))  {diffpair_nmos_status_fail=6; return TCL_ERROR;}
    nref_Nt_unit=gamma_gcc_interpolateg_4(P_look_up_tables_nch_thermal_noise_ss_LUT,vbias_V,vbias_V,CONST_0_V,size_Ls,&nref_dNt_dvgs,&nref_dNt_dvds,&nref_dNt_dvbs,&nref_dNt_dl);
    nref_Nt=nref_Nt_unit*nref_go;
    if (!isfinite(nref_Nt))  {diffpair_nmos_status_fail=5; return TCL_ERROR;}
    nref_Nf_unit=gamma_gcc_interpolateg_4(P_look_up_tables_nch_flicker_noise_ss_LUT,vbias_V,vbias_V,CONST_0_V,size_Ls,&nref_dNf_dvgs,&nref_dNf_dvds,&nref_dNf_dvbs,&nref_dNf_dl);
    nref_Nf=nref_Nf_unit*nref_go*nref_go/(size_Ls*2*size_Wn/size_Ln*size_Ls);
    if (!isfinite(nref_Nf))  {diffpair_nmos_status_fail=6; return TCL_ERROR;}
    float current_transfer_p_1=Ted*((-(-(p_2_gm*((((((nin_1_go+nin_1_gm)+nin_1_gb)+nin_2_go)+nin_2_gm)+nin_2_gb)+ntail_go)*(nref_go+nref_gm)-(((-nin_2_go)-nin_2_gm)-nin_2_gb)*(-nin_1_go)*(nref_go+nref_gm)))))/diffpair_nmos_property_Adc;
    float current_transfer_p_2=Ted*((-(((p_1_go+p_1_gm)+nin_1_go)*((((((nin_1_go+nin_1_gm)+nin_1_gb)+nin_2_go)+nin_2_gm)+nin_2_gb)+ntail_go)*(nref_go+nref_gm)+(((-nin_1_go)-nin_1_gm)-nin_1_gb)*(-(-nin_1_go)*(nref_go+nref_gm)))))/diffpair_nmos_property_Adc;
    float current_transfer_nin_1=Ted*((-((((p_1_go+p_1_gm)+nin_1_go)*(-(((-nin_2_go)-nin_2_gm)-nin_2_gb)*(nref_go+nref_gm))-(p_2_gm*((((((nin_1_go+nin_1_gm)+nin_1_gb)+nin_2_go)+nin_2_gm)+nin_2_gb)+ntail_go)*(nref_go+nref_gm)-(((-nin_2_go)-nin_2_gm)-nin_2_gb)*(-nin_1_go)*(nref_go+nref_gm)))+(((-nin_1_go)-nin_1_gm)-nin_1_gb)*p_2_gm*(nref_go+nref_gm))))/diffpair_nmos_property_Adc;
    float current_transfer_nin_2=Ted*((-(((p_1_go+p_1_gm)+nin_1_go)*(((((((nin_1_go+nin_1_gm)+nin_1_gb)+nin_2_go)+nin_2_gm)+nin_2_gb)+ntail_go)*(nref_go+nref_gm)-(((-nin_2_go)-nin_2_gm)-nin_2_gb)*(nref_go+nref_gm))+(((-nin_1_go)-nin_1_gm)-nin_1_gb)*(p_2_gm*(nref_go+nref_gm)-(-nin_1_go)*(nref_go+nref_gm)))))/diffpair_nmos_property_Adc;
    float current_transfer_ntail=Ted*((-(((p_1_go+p_1_gm)+nin_1_go)*(-(((-nin_2_go)-nin_2_gm)-nin_2_gb)*(nref_go+nref_gm))+(((-nin_1_go)-nin_1_gm)-nin_1_gb)*p_2_gm*(nref_go+nref_gm))))/diffpair_nmos_property_Adc;
    float current_transfer_nref=Ted*((-(((p_1_go+p_1_gm)+nin_1_go)*(-(((-nin_2_go)-nin_2_gm)-nin_2_gb)*(-ntail_gm))+(((-nin_1_go)-nin_1_gm)-nin_1_gb)*p_2_gm*(-ntail_gm))))/diffpair_nmos_property_Adc;
    diffpair_nmos_property_Nt=(current_transfer_p_1*current_transfer_p_1*p_1_Nt+current_transfer_p_2*current_transfer_p_2*p_2_Nt+current_transfer_nin_1*current_transfer_nin_1*nin_1_Nt+current_transfer_nin_2*current_transfer_nin_2*nin_2_Nt+current_transfer_ntail*current_transfer_ntail*ntail_Nt+current_transfer_nref*current_transfer_nref*nref_Nt)/diffpair_nmos_property_Adc;
    diffpair_nmos_property_Nf=(current_transfer_p_1*current_transfer_p_1*p_1_Nf+current_transfer_p_2*current_transfer_p_2*p_2_Nf+current_transfer_nin_1*current_transfer_nin_1*nin_1_Nf+current_transfer_nin_2*current_transfer_nin_2*nin_2_Nf+current_transfer_ntail*current_transfer_ntail*ntail_Nf+current_transfer_nref*current_transfer_nref*nref_Nf)/diffpair_nmos_property_Adc;
    diffpair_nmos_property_fc=diffpair_nmos_property_Nf/diffpair_nmos_property_Nt;
    diffpair_nmos_property_TotalNoise=(log(2*diffpair_nmos_property_BW)*diffpair_nmos_property_Nf+2*diffpair_nmos_property_BW*diffpair_nmos_property_Nt);
    diffpair_nmos_property_TotalNoise/=2;
    diffpair_nmos_property_Area=1e12*(size_Wp*size_Lp+size_Wp*size_Lp+size_Wn*size_Ln+size_Wn*size_Ln+size_Ls*2*size_Wn/size_Ln*size_Ls+size_Ls*2*size_Wn/size_Ln*size_Ls);
    float single_transistor_vos;
    diffpair_nmos_property_Vos=0;
    single_transistor_vos=vos(nin_1_Ids*size_Ln/size_Wn,diffpair_nmos_property_Area);
    diffpair_nmos_property_Vos+=single_transistor_vos*single_transistor_vos;
    single_transistor_vos=vos(nin_2_Ids*size_Ln/size_Wn,diffpair_nmos_property_Area);
    diffpair_nmos_property_Vos+=single_transistor_vos*single_transistor_vos;
    diffpair_nmos_property_Vos=1e-3*sqrt(diffpair_nmos_property_Vos);
    diffpair_nmos_property_Power=0;
    diffpair_nmos_property_Power+=fabs(p_1_Ids*((outm_V)-(vdd_V)));
    diffpair_nmos_property_Power+=fabs(p_2_Ids*((outp_V)-(vdd_V)));
    diffpair_nmos_property_Power+=fabs(nin_1_Ids*((outm_V)-(tail_V)));
    diffpair_nmos_property_Power+=fabs(nin_2_Ids*((outp_V)-(tail_V)));
    diffpair_nmos_property_Power+=fabs(ntail_Ids*((tail_V)-(CONST_0_V)));
    diffpair_nmos_property_Power+=fabs(nref_Ids*((vbias_V)-(CONST_0_V)));
    diffpair_nmos_property_Adc=20*log10(fabs(diffpair_nmos_property_Adc));
    diffpair_nmos_property_CMRR=20*log10(fabs(diffpair_nmos_property_CMRR));
    diffpair_nmos_property_CMRR=diffpair_nmos_property_Adc-diffpair_nmos_property_CMRR;
    diffpair_nmos_property_PSRR=20*log10(fabs(diffpair_nmos_property_PSRR));
    diffpair_nmos_property_PSRR=diffpair_nmos_property_Adc-diffpair_nmos_property_PSRR;
    if (diffpair_nmos_max_Adc<diffpair_nmos_property_Adc) diffpair_nmos_max_Adc=diffpair_nmos_property_Adc;
    PAT *p=(PAT *)Pdiffpair_nmos_circuits_PAT;
    float sizes[6];
    sizes[0]=diffpair_nmos_size_iref;
    sizes[1]=diffpair_nmos_size_Lp;
    sizes[2]=diffpair_nmos_size_Wp;
    sizes[3]=diffpair_nmos_size_Ln;
    sizes[4]=diffpair_nmos_size_Wn;
    sizes[5]=diffpair_nmos_size_Ls;
    float properties[15];
    if ((diffpair_nmos_config_factor_Adc!=0)||(diffpair_nmos_config_shift_Adc!=0)) diffpair_nmos_property_Adc=diffpair_nmos_property_Adc*diffpair_nmos_config_factor_Adc+diffpair_nmos_config_shift_Adc;
    properties[0]=diffpair_nmos_property_Adc;
    if ((diffpair_nmos_config_factor_CMRR!=0)||(diffpair_nmos_config_shift_CMRR!=0)) diffpair_nmos_property_CMRR=diffpair_nmos_property_CMRR*diffpair_nmos_config_factor_CMRR+diffpair_nmos_config_shift_CMRR;
    properties[1]=diffpair_nmos_property_CMRR;
    if ((diffpair_nmos_config_factor_PSRR!=0)||(diffpair_nmos_config_shift_PSRR!=0)) diffpair_nmos_property_PSRR=diffpair_nmos_property_PSRR*diffpair_nmos_config_factor_PSRR+diffpair_nmos_config_shift_PSRR;
    properties[2]=diffpair_nmos_property_PSRR;
    if ((diffpair_nmos_config_factor_Rout!=0)||(diffpair_nmos_config_shift_Rout!=0)) diffpair_nmos_property_Rout=diffpair_nmos_property_Rout*diffpair_nmos_config_factor_Rout+diffpair_nmos_config_shift_Rout;
    properties[3]=diffpair_nmos_property_Rout;
    if ((diffpair_nmos_config_factor_BW!=0)||(diffpair_nmos_config_shift_BW!=0)) diffpair_nmos_property_BW=diffpair_nmos_property_BW*diffpair_nmos_config_factor_BW+diffpair_nmos_config_shift_BW;
    properties[4]=diffpair_nmos_property_BW;
    if ((diffpair_nmos_config_factor_ts!=0)||(diffpair_nmos_config_shift_ts!=0)) diffpair_nmos_property_ts=diffpair_nmos_property_ts*diffpair_nmos_config_factor_ts+diffpair_nmos_config_shift_ts;
    properties[5]=diffpair_nmos_property_ts;
    if ((diffpair_nmos_config_factor_Cin!=0)||(diffpair_nmos_config_shift_Cin!=0)) diffpair_nmos_property_Cin=diffpair_nmos_property_Cin*diffpair_nmos_config_factor_Cin+diffpair_nmos_config_shift_Cin;
    properties[6]=diffpair_nmos_property_Cin;
    if ((diffpair_nmos_config_factor_PM!=0)||(diffpair_nmos_config_shift_PM!=0)) diffpair_nmos_property_PM=diffpair_nmos_property_PM*diffpair_nmos_config_factor_PM+diffpair_nmos_config_shift_PM;
    properties[7]=diffpair_nmos_property_PM;
    if ((diffpair_nmos_config_factor_Nt!=0)||(diffpair_nmos_config_shift_Nt!=0)) diffpair_nmos_property_Nt=diffpair_nmos_property_Nt*diffpair_nmos_config_factor_Nt+diffpair_nmos_config_shift_Nt;
    properties[8]=diffpair_nmos_property_Nt;
    if ((diffpair_nmos_config_factor_Nf!=0)||(diffpair_nmos_config_shift_Nf!=0)) diffpair_nmos_property_Nf=diffpair_nmos_property_Nf*diffpair_nmos_config_factor_Nf+diffpair_nmos_config_shift_Nf;
    properties[9]=diffpair_nmos_property_Nf;
    if ((diffpair_nmos_config_factor_fc!=0)||(diffpair_nmos_config_shift_fc!=0)) diffpair_nmos_property_fc=diffpair_nmos_property_fc*diffpair_nmos_config_factor_fc+diffpair_nmos_config_shift_fc;
    properties[10]=diffpair_nmos_property_fc;
    if ((diffpair_nmos_config_factor_TotalNoise!=0)||(diffpair_nmos_config_shift_TotalNoise!=0)) diffpair_nmos_property_TotalNoise=diffpair_nmos_property_TotalNoise*diffpair_nmos_config_factor_TotalNoise+diffpair_nmos_config_shift_TotalNoise;
    properties[11]=diffpair_nmos_property_TotalNoise;
    if ((diffpair_nmos_config_factor_Area!=0)||(diffpair_nmos_config_shift_Area!=0)) diffpair_nmos_property_Area=diffpair_nmos_property_Area*diffpair_nmos_config_factor_Area+diffpair_nmos_config_shift_Area;
    properties[12]=diffpair_nmos_property_Area;
    if ((diffpair_nmos_config_factor_Vos!=0)||(diffpair_nmos_config_shift_Vos!=0)) diffpair_nmos_property_Vos=diffpair_nmos_property_Vos*diffpair_nmos_config_factor_Vos+diffpair_nmos_config_shift_Vos;
    properties[13]=diffpair_nmos_property_Vos;
    if ((diffpair_nmos_config_factor_Power!=0)||(diffpair_nmos_config_shift_Power!=0)) diffpair_nmos_property_Power=diffpair_nmos_property_Power*diffpair_nmos_config_factor_Power+diffpair_nmos_config_shift_Power;
    properties[14]=diffpair_nmos_property_Power;
    diffpair_nmos_status_fail=op_it;
    diffpair_nmos_status_index=add_pat_array(p,sizes,properties);
    
    return TCL_OK;
}
//      static int tcl_gamma_grad_cmd(ClientData clientData,Tcl_Interp *interp,int argc,char *argv[]) {
    //            Tcl_ResetResult(interp);
    //          GRAD_CODE_GOES_HERE
    //         return TCL_OK;
//    }
static int tcl_gamma_diffpair_nmos_heatmap_cmd(ClientData clientData,Tcl_Interp *interp,int argc,char *argv[]) {
    int i,j;
    ClientData CD;
    if ((argc!=15)&&(argc!=14)&&(argc!=13)) {
        #Error: "%s: usage: %s <x context> <minX> <maxX> <stepX> <y context> <minY> <maxY> <stepY> <z context> <pixel width> <pixel height> <pallet> [<pallet mode> {[<pass threshold>]}]" argv[0] argv[0]
        return TCL_ERROR;
    }
    float *pX=(float *)&(create_context(argv[1]))->value.s;
    float *pY=(float *)&(create_context(argv[5]))->value.s;
    float *pZ=(float *)&(create_context(argv[7]))->value.s;
    float *PX=NULL;
    if (strcmp(argv[1],"config:pat_size_target")==0) PX=&(config_pat_size_target);
    if (strcmp(argv[1],"config:size")==0) PX=&(config_size);
    if (strcmp(argv[1],"config:op_iterations")==0) PX=&(config_op_iterations);
    if (strcmp(argv[1],"config:kcl_th")==0) PX=&(config_kcl_th);
    if (strcmp(argv[1],"config:design_feedback_th")==0) PX=&(config_design_feedback_th);
    if (strcmp(argv[1],"config:kcl_step")==0) PX=&(config_kcl_step);
    if (strcmp(argv[1],"config:fail_on_properties")==0) PX=&(config_fail_on_properties);
    if (strcmp(argv[1],"config:cgg_factor")==0) PX=&(config_cgg_factor);
    if (strcmp(argv[1],"config:cgd_factor")==0) PX=&(config_cgd_factor);
    if (strcmp(argv[1],"config:cdd_factor")==0) PX=&(config_cdd_factor);
    if (strcmp(argv[1],"config:cdg_factor")==0) PX=&(config_cdg_factor);
    if (strcmp(argv[1],"config:cgs_factor")==0) PX=&(config_cgs_factor);
    if (strcmp(argv[1],"config:cds_factor")==0) PX=&(config_cds_factor);
    if (strcmp(argv[1],"config:csd_factor")==0) PX=&(config_csd_factor);
    if (strcmp(argv[1],"config:css_factor")==0) PX=&(config_css_factor);
    if (strcmp(argv[1],"config:shift")==0) PX=&(config_shift);
    if (strcmp(argv[1],"config:factor")==0) PX=&(config_factor);
    if (strcmp(argv[1],"size:iref")==0) PX=&(size_iref);
    if (strcmp(argv[1],"size:Lp")==0) PX=&(size_Lp);
    if (strcmp(argv[1],"size:Wp")==0) PX=&(size_Wp);
    if (strcmp(argv[1],"size:Ln")==0) PX=&(size_Ln);
    if (strcmp(argv[1],"size:Wn")==0) PX=&(size_Wn);
    if (strcmp(argv[1],"size:Ls")==0) PX=&(size_Ls);
    if (strcmp(argv[1],"param:unique")==0) PX=&(param_unique);
    if (strcmp(argv[1],"param:inp")==0) PX=&(param_inp);
    if (strcmp(argv[1],"param:inn")==0) PX=&(param_inn);
    if (strcmp(argv[1],"param:vdd")==0) PX=&(param_vdd);
    if (strcmp(argv[1],"mode:freash_op")==0) PX=&(mode_freash_op);
    if (strcmp(argv[1],"status:index")==0) PX=&(status_index);
    if (strcmp(argv[1],"status:fail")==0) PX=&(status_fail);
    if (strcmp(argv[1],"vdd:V")==0) PX=&(vdd_V);
    if (strcmp(argv[1],"0:V")==0) PX=&(CONST_0_V);
    if (strcmp(argv[1],"look_up_tables:pch")==0) PX=&(look_up_tables_pch);
    if (strcmp(argv[1],"look_up_tables:nch")==0) PX=&(look_up_tables_nch);
    if (strcmp(argv[1],"property:Adc")==0) PX=&(property_Adc);
    if (strcmp(argv[1],"property:CMRR")==0) PX=&(property_CMRR);
    if (strcmp(argv[1],"property:PSRR")==0) PX=&(property_PSRR);
    if (strcmp(argv[1],"property:Rout")==0) PX=&(property_Rout);
    if (strcmp(argv[1],"property:BW")==0) PX=&(property_BW);
    if (strcmp(argv[1],"property:ts")==0) PX=&(property_ts);
    if (strcmp(argv[1],"property:Cin")==0) PX=&(property_Cin);
    if (strcmp(argv[1],"property:PM")==0) PX=&(property_PM);
    if (strcmp(argv[1],"property:Nt")==0) PX=&(property_Nt);
    if (strcmp(argv[1],"property:Nf")==0) PX=&(property_Nf);
    if (strcmp(argv[1],"property:fc")==0) PX=&(property_fc);
    if (strcmp(argv[1],"property:TotalNoise")==0) PX=&(property_TotalNoise);
    if (strcmp(argv[1],"property:Area")==0) PX=&(property_Area);
    if (strcmp(argv[1],"property:Vos")==0) PX=&(property_Vos);
    if (strcmp(argv[1],"property:Power")==0) PX=&(property_Power);
    if (PX==NULL) {
        #Error: "%s: context %s is not available for heatmap generation." argv[0] argv[1]
        return TCL_ERROR;
    }
    float minX=atof(argv[2]);
    float maxX=atof(argv[3]);
    float stepX=atof(argv[4]);
    float *PY=NULL;
    if (strcmp(argv[5],"config:pat_size_target")==0) PY=&(config_pat_size_target);
    if (strcmp(argv[5],"config:size")==0) PY=&(config_size);
    if (strcmp(argv[5],"config:op_iterations")==0) PY=&(config_op_iterations);
    if (strcmp(argv[5],"config:kcl_th")==0) PY=&(config_kcl_th);
    if (strcmp(argv[5],"config:design_feedback_th")==0) PY=&(config_design_feedback_th);
    if (strcmp(argv[5],"config:kcl_step")==0) PY=&(config_kcl_step);
    if (strcmp(argv[5],"config:fail_on_properties")==0) PY=&(config_fail_on_properties);
    if (strcmp(argv[5],"config:cgg_factor")==0) PY=&(config_cgg_factor);
    if (strcmp(argv[5],"config:cgd_factor")==0) PY=&(config_cgd_factor);
    if (strcmp(argv[5],"config:cdd_factor")==0) PY=&(config_cdd_factor);
    if (strcmp(argv[5],"config:cdg_factor")==0) PY=&(config_cdg_factor);
    if (strcmp(argv[5],"config:cgs_factor")==0) PY=&(config_cgs_factor);
    if (strcmp(argv[5],"config:cds_factor")==0) PY=&(config_cds_factor);
    if (strcmp(argv[5],"config:csd_factor")==0) PY=&(config_csd_factor);
    if (strcmp(argv[5],"config:css_factor")==0) PY=&(config_css_factor);
    if (strcmp(argv[5],"config:shift")==0) PY=&(config_shift);
    if (strcmp(argv[5],"config:factor")==0) PY=&(config_factor);
    if (strcmp(argv[5],"size:iref")==0) PY=&(size_iref);
    if (strcmp(argv[5],"size:Lp")==0) PY=&(size_Lp);
    if (strcmp(argv[5],"size:Wp")==0) PY=&(size_Wp);
    if (strcmp(argv[5],"size:Ln")==0) PY=&(size_Ln);
    if (strcmp(argv[5],"size:Wn")==0) PY=&(size_Wn);
    if (strcmp(argv[5],"size:Ls")==0) PY=&(size_Ls);
    if (strcmp(argv[5],"param:unique")==0) PY=&(param_unique);
    if (strcmp(argv[5],"param:inp")==0) PY=&(param_inp);
    if (strcmp(argv[5],"param:inn")==0) PY=&(param_inn);
    if (strcmp(argv[5],"param:vdd")==0) PY=&(param_vdd);
    if (strcmp(argv[5],"mode:freash_op")==0) PY=&(mode_freash_op);
    if (strcmp(argv[5],"status:index")==0) PY=&(status_index);
    if (strcmp(argv[5],"status:fail")==0) PY=&(status_fail);
    if (strcmp(argv[5],"vdd:V")==0) PY=&(vdd_V);
    if (strcmp(argv[5],"0:V")==0) PY=&(CONST_0_V);
    if (strcmp(argv[5],"look_up_tables:pch")==0) PY=&(look_up_tables_pch);
    if (strcmp(argv[5],"look_up_tables:nch")==0) PY=&(look_up_tables_nch);
    if (strcmp(argv[5],"property:Adc")==0) PY=&(property_Adc);
    if (strcmp(argv[5],"property:CMRR")==0) PY=&(property_CMRR);
    if (strcmp(argv[5],"property:PSRR")==0) PY=&(property_PSRR);
    if (strcmp(argv[5],"property:Rout")==0) PY=&(property_Rout);
    if (strcmp(argv[5],"property:BW")==0) PY=&(property_BW);
    if (strcmp(argv[5],"property:ts")==0) PY=&(property_ts);
    if (strcmp(argv[5],"property:Cin")==0) PY=&(property_Cin);
    if (strcmp(argv[5],"property:PM")==0) PY=&(property_PM);
    if (strcmp(argv[5],"property:Nt")==0) PY=&(property_Nt);
    if (strcmp(argv[5],"property:Nf")==0) PY=&(property_Nf);
    if (strcmp(argv[5],"property:fc")==0) PY=&(property_fc);
    if (strcmp(argv[5],"property:TotalNoise")==0) PY=&(property_TotalNoise);
    if (strcmp(argv[5],"property:Area")==0) PY=&(property_Area);
    if (strcmp(argv[5],"property:Vos")==0) PY=&(property_Vos);
    if (strcmp(argv[5],"property:Power")==0) PY=&(property_Power);
    if (PY==NULL) {
        #Error: "%s: context %s is not available for heatmap generation." argv[0] argv[1]
        return TCL_ERROR;
    }
    float minY=atof(argv[6]);
    float maxY=atof(argv[7]);
    float stepY=atof(argv[8]);
    float *PZ=NULL;
    if (strcmp(argv[7],"config:pat_size_target")==0) PZ=&(config_pat_size_target);
    if (strcmp(argv[7],"config:size")==0) PZ=&(config_size);
    if (strcmp(argv[7],"config:op_iterations")==0) PZ=&(config_op_iterations);
    if (strcmp(argv[7],"config:kcl_th")==0) PZ=&(config_kcl_th);
    if (strcmp(argv[7],"config:design_feedback_th")==0) PZ=&(config_design_feedback_th);
    if (strcmp(argv[7],"config:kcl_step")==0) PZ=&(config_kcl_step);
    if (strcmp(argv[7],"config:fail_on_properties")==0) PZ=&(config_fail_on_properties);
    if (strcmp(argv[7],"config:cgg_factor")==0) PZ=&(config_cgg_factor);
    if (strcmp(argv[7],"config:cgd_factor")==0) PZ=&(config_cgd_factor);
    if (strcmp(argv[7],"config:cdd_factor")==0) PZ=&(config_cdd_factor);
    if (strcmp(argv[7],"config:cdg_factor")==0) PZ=&(config_cdg_factor);
    if (strcmp(argv[7],"config:cgs_factor")==0) PZ=&(config_cgs_factor);
    if (strcmp(argv[7],"config:cds_factor")==0) PZ=&(config_cds_factor);
    if (strcmp(argv[7],"config:csd_factor")==0) PZ=&(config_csd_factor);
    if (strcmp(argv[7],"config:css_factor")==0) PZ=&(config_css_factor);
    if (strcmp(argv[7],"config:shift")==0) PZ=&(config_shift);
    if (strcmp(argv[7],"config:factor")==0) PZ=&(config_factor);
    if (strcmp(argv[7],"size:iref")==0) PZ=&(size_iref);
    if (strcmp(argv[7],"size:Lp")==0) PZ=&(size_Lp);
    if (strcmp(argv[7],"size:Wp")==0) PZ=&(size_Wp);
    if (strcmp(argv[7],"size:Ln")==0) PZ=&(size_Ln);
    if (strcmp(argv[7],"size:Wn")==0) PZ=&(size_Wn);
    if (strcmp(argv[7],"size:Ls")==0) PZ=&(size_Ls);
    if (strcmp(argv[7],"param:unique")==0) PZ=&(param_unique);
    if (strcmp(argv[7],"param:inp")==0) PZ=&(param_inp);
    if (strcmp(argv[7],"param:inn")==0) PZ=&(param_inn);
    if (strcmp(argv[7],"param:vdd")==0) PZ=&(param_vdd);
    if (strcmp(argv[7],"mode:freash_op")==0) PZ=&(mode_freash_op);
    if (strcmp(argv[7],"status:index")==0) PZ=&(status_index);
    if (strcmp(argv[7],"status:fail")==0) PZ=&(status_fail);
    if (strcmp(argv[7],"vdd:V")==0) PZ=&(vdd_V);
    if (strcmp(argv[7],"0:V")==0) PZ=&(CONST_0_V);
    if (strcmp(argv[7],"look_up_tables:pch")==0) PZ=&(look_up_tables_pch);
    if (strcmp(argv[7],"look_up_tables:nch")==0) PZ=&(look_up_tables_nch);
    if (strcmp(argv[7],"property:Adc")==0) PZ=&(property_Adc);
    if (strcmp(argv[7],"property:CMRR")==0) PZ=&(property_CMRR);
    if (strcmp(argv[7],"property:PSRR")==0) PZ=&(property_PSRR);
    if (strcmp(argv[7],"property:Rout")==0) PZ=&(property_Rout);
    if (strcmp(argv[7],"property:BW")==0) PZ=&(property_BW);
    if (strcmp(argv[7],"property:ts")==0) PZ=&(property_ts);
    if (strcmp(argv[7],"property:Cin")==0) PZ=&(property_Cin);
    if (strcmp(argv[7],"property:PM")==0) PZ=&(property_PM);
    if (strcmp(argv[7],"property:Nt")==0) PZ=&(property_Nt);
    if (strcmp(argv[7],"property:Nf")==0) PZ=&(property_Nf);
    if (strcmp(argv[7],"property:fc")==0) PZ=&(property_fc);
    if (strcmp(argv[7],"property:TotalNoise")==0) PZ=&(property_TotalNoise);
    if (strcmp(argv[7],"property:Area")==0) PZ=&(property_Area);
    if (strcmp(argv[7],"property:Vos")==0) PZ=&(property_Vos);
    if (strcmp(argv[7],"property:Power")==0) PZ=&(property_Power);
    if (PZ==NULL) {
        #Error: "%s: context %s is not available for heatmap generation." argv[0] argv[1]
        return TCL_ERROR;
    }
    int width=(int)(maxX-minX)/stepX+1;
    int height=(int)(maxY-minY)/stepY+1;
    int ARGC;
    char **ARGV;
    Tcl_SplitList(interp,argv[12],&ARGC,&ARGV);
    int *pal=(int *)malloc(sizeof(int)*ARGC);
    for (i=0;i<ARGC;i++) pal[i]=atoi(ARGV[i]);
    heatmap *hm=new_heatmap(width,height,atoi(argv[10]),atoi(argv[11]),pal,ARGC);
    int mode=-1;
    float th=0;
    if (argc==13) mode=HM_TH_MODE_FLAT; else {
        if (strcmp(argv[13],"flat")==0) mode=HM_TH_MODE_FLAT;
        if (strcmp(argv[13],"snap")==0) mode=HM_TH_MODE_SNAP;
        if (strcmp(argv[13],"half")==0) mode=HM_TH_MODE_HALF;
    }
    if (mode==-1) {
        #Error: "%s: pallet mode %s is not available for heatmap generation. Use flat, snap or half" argv[0] argv[13]
        return TCL_ERROR;
    }
    if ((mode!=HM_TH_MODE_FLAT)&&(argc!=15)) {
        #Error: "%s: pallet mode %s requires a threshold for passing specifications." argv[0] argv[13]
        return TCL_ERROR;
    } else th=atof(argv[14]);
    float X,Y;
    i=0;
    for (X=minX;X<=maxX;X+=stepX) {
        j=0;
        for (Y=minY;Y<=maxY;Y+=stepY) {
            *PX=X;
            *PY=Y;
            tcl_gamma_diffpair_nmos_op_cmd(CD,NULL,0,NULL);
            set_heatmap_pixel(hm,i,j,*PZ);
            j++;
        }
        i++;
    }
    heatmap_thresholds(hm,mode,th);
    char *out_channel_name=Tcl_GetVar(interp,"::HTML",0);
    FILE *HTML;
    Tcl_GetOpenFile(interp,out_channel_name,1,0,&HTML);
    plot_heatmap(hm,0,0,HTML);
    
    return TCL_OK;
}
static int tcl_gamma_diffpair_nmos_random_cmd(ClientData clientData,Tcl_Interp *interp,int argc,char *argv[]) {
    ClientData CD;
    PAT *p=(PAT *)Pdiffpair_nmos_circuits_PAT;
    while (p->content->num_of<diffpair_nmos_config_pat_size_target) {
        diffpair_nmos_size_iref=size_iref_min+random()*(size_iref_max-size_iref_min)/RAND_MAX;
        diffpair_nmos_size_Lp=size_Lp_min+random()*(size_Lp_max-size_Lp_min)/RAND_MAX;
        diffpair_nmos_size_Wp=size_Lp+random()*(size_Wp_max-size_Lp)/RAND_MAX;
        diffpair_nmos_size_Ln=size_Ln_min+random()*(size_Ln_max-size_Ln_min)/RAND_MAX;
        diffpair_nmos_size_Wn=size_Ln+random()*(size_Wn_max-size_Ln)/RAND_MAX;
        diffpair_nmos_size_Ls=size_Ls_min+random()*(size_Ls_max-size_Ls_min)/RAND_MAX;
        if (tcl_gamma_diffpair_nmos_op_cmd(CD,NULL,0,NULL)==TCL_ERROR) continue;
    }
    
    return TCL_OK;
}
static int tcl_gamma_diffpair_nmos_breed_cmd(ClientData clientData,Tcl_Interp *interp,int argc,char *argv[]) {
    ClientData CD;
    int i,viable;
    PAT *p=(PAT *)Pdiffpair_nmos_circuits_PAT;
    int more_to_breed=1;
    while (more_to_breed&&(p->content->num_of<diffpair_nmos_pat_size_target)) {
        more_to_breed=0;
        int sweep_size=p->content->num_of;
        for (i=0;i<sweep_size;i++) {
            if (p->content->content[i]->flags) continue;
            p->content->content[i]->flags=1;
            more_to_breed++;
            diffpair_nmos_size_iref=p->content->content[i]->sizes->content[0];
            diffpair_nmos_size_Lp=p->content->content[i]->sizes->content[1];
            diffpair_nmos_size_Wp=p->content->content[i]->sizes->content[2];
            diffpair_nmos_size_Ln=p->content->content[i]->sizes->content[3];
            diffpair_nmos_size_Wn=p->content->content[i]->sizes->content[4];
            diffpair_nmos_size_Ls=p->content->content[i]->sizes->content[5];
            diffpair_nmos_size_iref=diffpair_nmos_size_iref+diffpair_nmos_size_iref_step;
            viable=1;
            if ((diffpair_nmos_size_iref>=size_iref_min)&&(diffpair_nmos_size_iref<=size_iref_max)) {
                tcl_gamma_diffpair_nmos_op_cmd(CD,NULL,0,NULL);
            }
            diffpair_nmos_size_iref=diffpair_nmos_size_iref-2*diffpair_nmos_size_iref_step;
            viable=1;
            if ((diffpair_nmos_size_iref>=size_iref_min)&&(diffpair_nmos_size_iref<=size_iref_max)) {
                tcl_gamma_diffpair_nmos_op_cmd(CD,NULL,0,NULL);
            }
            diffpair_nmos_size_iref=diffpair_nmos_size_iref+diffpair_nmos_size_iref_step;
            diffpair_nmos_size_Lp=diffpair_nmos_size_Lp+diffpair_nmos_size_Lp_step;
            viable=1;
            if ((diffpair_nmos_size_Lp>=size_Lp_min)&&(diffpair_nmos_size_Lp<=size_Lp_max)) {
                tcl_gamma_diffpair_nmos_op_cmd(CD,NULL,0,NULL);
            }
            diffpair_nmos_size_Lp=diffpair_nmos_size_Lp-2*diffpair_nmos_size_Lp_step;
            viable=1;
            if ((diffpair_nmos_size_Lp>=size_Lp_min)&&(diffpair_nmos_size_Lp<=size_Lp_max)) {
                tcl_gamma_diffpair_nmos_op_cmd(CD,NULL,0,NULL);
            }
            diffpair_nmos_size_Lp=diffpair_nmos_size_Lp+diffpair_nmos_size_Lp_step;
            diffpair_nmos_size_Wp=diffpair_nmos_size_Wp+diffpair_nmos_size_Wp_step;
            viable=1;
            if ((diffpair_nmos_size_Wp>=size_Lp)&&(diffpair_nmos_size_Wp<=size_Wp_max)) {
                tcl_gamma_diffpair_nmos_op_cmd(CD,NULL,0,NULL);
            }
            diffpair_nmos_size_Wp=diffpair_nmos_size_Wp-2*diffpair_nmos_size_Wp_step;
            viable=1;
            if ((diffpair_nmos_size_Wp>=size_Lp)&&(diffpair_nmos_size_Wp<=size_Wp_max)) {
                tcl_gamma_diffpair_nmos_op_cmd(CD,NULL,0,NULL);
            }
            diffpair_nmos_size_Wp=diffpair_nmos_size_Wp+diffpair_nmos_size_Wp_step;
            diffpair_nmos_size_Ln=diffpair_nmos_size_Ln+diffpair_nmos_size_Ln_step;
            viable=1;
            if ((diffpair_nmos_size_Ln>=size_Ln_min)&&(diffpair_nmos_size_Ln<=size_Ln_max)) {
                tcl_gamma_diffpair_nmos_op_cmd(CD,NULL,0,NULL);
            }
            diffpair_nmos_size_Ln=diffpair_nmos_size_Ln-2*diffpair_nmos_size_Ln_step;
            viable=1;
            if ((diffpair_nmos_size_Ln>=size_Ln_min)&&(diffpair_nmos_size_Ln<=size_Ln_max)) {
                tcl_gamma_diffpair_nmos_op_cmd(CD,NULL,0,NULL);
            }
            diffpair_nmos_size_Ln=diffpair_nmos_size_Ln+diffpair_nmos_size_Ln_step;
            diffpair_nmos_size_Wn=diffpair_nmos_size_Wn+diffpair_nmos_size_Wn_step;
            viable=1;
            if ((diffpair_nmos_size_Wn>=size_Ln)&&(diffpair_nmos_size_Wn<=size_Wn_max)) {
                tcl_gamma_diffpair_nmos_op_cmd(CD,NULL,0,NULL);
            }
            diffpair_nmos_size_Wn=diffpair_nmos_size_Wn-2*diffpair_nmos_size_Wn_step;
            viable=1;
            if ((diffpair_nmos_size_Wn>=size_Ln)&&(diffpair_nmos_size_Wn<=size_Wn_max)) {
                tcl_gamma_diffpair_nmos_op_cmd(CD,NULL,0,NULL);
            }
            diffpair_nmos_size_Wn=diffpair_nmos_size_Wn+diffpair_nmos_size_Wn_step;
            diffpair_nmos_size_Ls=diffpair_nmos_size_Ls+diffpair_nmos_size_Ls_step;
            viable=1;
            if ((diffpair_nmos_size_Ls>=size_Ls_min)&&(diffpair_nmos_size_Ls<=size_Ls_max)) {
                tcl_gamma_diffpair_nmos_op_cmd(CD,NULL,0,NULL);
            }
            diffpair_nmos_size_Ls=diffpair_nmos_size_Ls-2*diffpair_nmos_size_Ls_step;
            viable=1;
            if ((diffpair_nmos_size_Ls>=size_Ls_min)&&(diffpair_nmos_size_Ls<=size_Ls_max)) {
                tcl_gamma_diffpair_nmos_op_cmd(CD,NULL,0,NULL);
            }
            diffpair_nmos_size_Ls=diffpair_nmos_size_Ls+diffpair_nmos_size_Ls_step;
            if (p->content->num_of%100==0) {
                printf("		%ld/%g=%g%%\n",p->content->num_of,diffpair_nmos_pat_size_target,100*p->content->num_of/diffpair_nmos_pat_size_target);
                fflush(stdout);
                if (diffpair_nmos_param_unique>0) {
                    pat_unique(p,diffpair_nmos_param_unique);
                }
            }
        }
        printf("	Done %ld/%g=%g%% (%ld visited)\n",p->content->num_of,diffpair_nmos_pat_size_target,100*p->content->num_of/diffpair_nmos_pat_size_target,more_to_breed);
    }
    
    return TCL_OK;
}
static int tcl_gamma_diffpair_nmos_random_breed_cmd(ClientData clientData,Tcl_Interp *interp,int argc,char *argv[]) {
    ClientData CD;
    int i,j;
    PAT *p=(PAT *)Pdiffpair_nmos_circuits_PAT;
    long int r;
    float step;
    while (1) {
        if (p->content->num_of>diffpair_nmos_config_pat_size_target) break;
        int sweep_size=p->content->num_of;
        for (i=0;i<sweep_size;i++) {
            diffpair_nmos_size_iref=p->content->content[i]->sizes->content[0];
            diffpair_nmos_size_Lp=p->content->content[i]->sizes->content[1];
            diffpair_nmos_size_Wp=p->content->content[i]->sizes->content[2];
            diffpair_nmos_size_Ln=p->content->content[i]->sizes->content[3];
            diffpair_nmos_size_Wn=p->content->content[i]->sizes->content[4];
            diffpair_nmos_size_Ls=p->content->content[i]->sizes->content[5];
            while (1) {
                step=(2.0*random()/RAND_MAX-1)*size_iref_step;
                if (diffpair_nmos_size_iref+step<size_iref_min) continue;
                if (diffpair_nmos_size_iref+step>size_iref_max) continue;
                break;
            }
            diffpair_nmos_size_iref+=step;
            while (1) {
                step=(2.0*random()/RAND_MAX-1)*size_Lp_step;
                if (diffpair_nmos_size_Lp+step<size_Lp_min) continue;
                if (diffpair_nmos_size_Lp+step>size_Lp_max) continue;
                break;
            }
            diffpair_nmos_size_Lp+=step;
            while (1) {
                step=(2.0*random()/RAND_MAX-1)*size_Wp_step;
                if (diffpair_nmos_size_Wp+step<size_Lp) continue;
                if (diffpair_nmos_size_Wp+step>size_Wp_max) continue;
                break;
            }
            diffpair_nmos_size_Wp+=step;
            while (1) {
                step=(2.0*random()/RAND_MAX-1)*size_Ln_step;
                if (diffpair_nmos_size_Ln+step<size_Ln_min) continue;
                if (diffpair_nmos_size_Ln+step>size_Ln_max) continue;
                break;
            }
            diffpair_nmos_size_Ln+=step;
            while (1) {
                step=(2.0*random()/RAND_MAX-1)*size_Wn_step;
                if (diffpair_nmos_size_Wn+step<size_Ln) continue;
                if (diffpair_nmos_size_Wn+step>size_Wn_max) continue;
                break;
            }
            diffpair_nmos_size_Wn+=step;
            while (1) {
                step=(2.0*random()/RAND_MAX-1)*size_Ls_step;
                if (diffpair_nmos_size_Ls+step<size_Ls_min) continue;
                if (diffpair_nmos_size_Ls+step>size_Ls_max) continue;
                break;
            }
            diffpair_nmos_size_Ls+=step;
            int pre_volume=p->content->num_of;
            if (tcl_gamma_diffpair_nmos_op_cmd(CD,NULL,0,NULL)==TCL_ERROR) {i--; continue;}
            if (pre_volume==p->content->num_of) {i--; continue;}
            if (p->content->num_of%1000==0) {
                printf("               %ld/%g=%g%% max gain=%g\n",p->content->num_of,diffpair_nmos_config_pat_size_target,100*p->content->num_of/diffpair_nmos_config_pat_size_target,diffpair_nmos_max_Adc);
                printf("               %ld/%g=%g%%\n",p->content->num_of,diffpair_nmos_config_pat_size_target,100*p->content->num_of/diffpair_nmos_config_pat_size_target);
                fflush(stdout);
                if (diffpair_nmos_param_unique>0) {
                    pat_unique(p,diffpair_nmos_param_unique);
                    printf("               post unique: %ld/%g=%g%%\n",p->content->num_of,diffpair_nmos_config_pat_size_target,100*p->content->num_of/diffpair_nmos_config_pat_size_target);
                    if (p->content->num_of>0.92*diffpair_nmos_config_pat_size_target) break;
                }
            }
            if (p->content->num_of>diffpair_nmos_config_pat_size_target) break;
        }
        if (p->content->num_of>diffpair_nmos_config_pat_size_target) break;
    }
    
    return TCL_OK;
}
static int tcl_gamma_diffpair_nmos_random_breed_single_cmd(ClientData clientData,Tcl_Interp *interp,int argc,char *argv[]) {
    ClientData CD;
    int i;
    PAT *p=(PAT *)Pdiffpair_nmos_circuits_PAT;
    int more_to_breed=0;
    long int r;
    long int breed_count=p->content->num_of;
    long int watchdog=0;
    float step;
    int sweep_size=p->content->num_of;
    int searched_id=(int)diffpair_nmos_circuit_breed_id;
    for (i=0;i<p->content->num_of;i++) {
        if (p->content->content[i]->id==searched_id) break;
    }
    printf("Found circuit id %d at index %d\n",searched_id,i);
    while (watchdog++<10000) {
        diffpair_nmos_size_iref=p->content->content[i]->sizes->content[0];
        diffpair_nmos_size_Lp=p->content->content[i]->sizes->content[1];
        diffpair_nmos_size_Wp=p->content->content[i]->sizes->content[2];
        diffpair_nmos_size_Ln=p->content->content[i]->sizes->content[3];
        diffpair_nmos_size_Wn=p->content->content[i]->sizes->content[4];
        diffpair_nmos_size_Ls=p->content->content[i]->sizes->content[5];
        while (1) {
            step=(2.0*random()/RAND_MAX-1)*size_iref_step;
            if (diffpair_nmos_size_iref+step<size_iref_min) continue;
            if (diffpair_nmos_size_iref+step>size_iref_max) continue;
            break;
        }
        diffpair_nmos_size_iref+=step;
        while (1) {
            step=(2.0*random()/RAND_MAX-1)*size_Lp_step;
            if (diffpair_nmos_size_Lp+step<size_Lp_min) continue;
            if (diffpair_nmos_size_Lp+step>size_Lp_max) continue;
            break;
        }
        diffpair_nmos_size_Lp+=step;
        while (1) {
            step=(2.0*random()/RAND_MAX-1)*size_Wp_step;
            if (diffpair_nmos_size_Wp+step<size_Lp) continue;
            if (diffpair_nmos_size_Wp+step>size_Wp_max) continue;
            break;
        }
        diffpair_nmos_size_Wp+=step;
        while (1) {
            step=(2.0*random()/RAND_MAX-1)*size_Ln_step;
            if (diffpair_nmos_size_Ln+step<size_Ln_min) continue;
            if (diffpair_nmos_size_Ln+step>size_Ln_max) continue;
            break;
        }
        diffpair_nmos_size_Ln+=step;
        while (1) {
            step=(2.0*random()/RAND_MAX-1)*size_Wn_step;
            if (diffpair_nmos_size_Wn+step<size_Ln) continue;
            if (diffpair_nmos_size_Wn+step>size_Wn_max) continue;
            break;
        }
        diffpair_nmos_size_Wn+=step;
        while (1) {
            step=(2.0*random()/RAND_MAX-1)*size_Ls_step;
            if (diffpair_nmos_size_Ls+step<size_Ls_min) continue;
            if (diffpair_nmos_size_Ls+step>size_Ls_max) continue;
            break;
        }
        diffpair_nmos_size_Ls+=step;
        if (tcl_gamma_diffpair_nmos_op_cmd(CD,NULL,0,NULL)==TCL_ERROR) continue;
        if (p->content->num_of>=breed_count+diffpair_nmos_circuit_breed_target) break;
    }
    
    return TCL_OK;
}
// Initializing cTree references and registering the tcl_gamma_op_cmd command as ::C::diffpair_nmos
int Gamma_diffpair_nmos_Init(Tcl_Interp *interp) {
    float *array_entry;
    context *c;
    c=create_context("config:pat_size_target");
    Pconfig_pat_size_target=(float *)(&c->value.s);
    c=create_context("config:size");
    Pconfig_size=(float *)(&c->value.s);
    c=create_context("config:op_iterations");
    Pconfig_op_iterations=(float *)(&c->value.s);
    c=create_context("config:kcl_th");
    Pconfig_kcl_th=(float *)(&c->value.s);
    c=create_context("config:design_feedback_th");
    Pconfig_design_feedback_th=(float *)(&c->value.s);
    c=create_context("config:kcl_step");
    Pconfig_kcl_step=(float *)(&c->value.s);
    c=create_context("config:fail_on_properties");
    Pconfig_fail_on_properties=(float *)(&c->value.s);
    c=create_context("config:cgg_factor");
    Pconfig_cgg_factor=(float *)(&c->value.s);
    c=create_context("config:cgd_factor");
    Pconfig_cgd_factor=(float *)(&c->value.s);
    c=create_context("config:cdd_factor");
    Pconfig_cdd_factor=(float *)(&c->value.s);
    c=create_context("config:cdg_factor");
    Pconfig_cdg_factor=(float *)(&c->value.s);
    c=create_context("config:cgs_factor");
    Pconfig_cgs_factor=(float *)(&c->value.s);
    c=create_context("config:cds_factor");
    Pconfig_cds_factor=(float *)(&c->value.s);
    c=create_context("config:csd_factor");
    Pconfig_csd_factor=(float *)(&c->value.s);
    c=create_context("config:css_factor");
    Pconfig_css_factor=(float *)(&c->value.s);
    c=create_context("config:shift");
    Pconfig_shift=(float *)(&c->value.s);
    c=create_context("config:factor");
    Pconfig_factor=(float *)(&c->value.s);
    c=create_context("size:iref");
    Psize_iref=(float *)(&c->value.s);
    c=create_context("size:Lp");
    Psize_Lp=(float *)(&c->value.s);
    c=create_context("size:Wp");
    Psize_Wp=(float *)(&c->value.s);
    c=create_context("size:Ln");
    Psize_Ln=(float *)(&c->value.s);
    c=create_context("size:Wn");
    Psize_Wn=(float *)(&c->value.s);
    c=create_context("size:Ls");
    Psize_Ls=(float *)(&c->value.s);
    c=create_context("param:unique");
    Pparam_unique=(float *)(&c->value.s);
    c=create_context("param:inp");
    Pparam_inp=(float *)(&c->value.s);
    c=create_context("param:inn");
    Pparam_inn=(float *)(&c->value.s);
    c=create_context("param:vdd");
    Pparam_vdd=(float *)(&c->value.s);
    c=create_context("mode:freash_op");
    Pmode_freash_op=(float *)(&c->value.s);
    c=create_context("status:index");
    Pstatus_index=(float *)(&c->value.s);
    c=create_context("status:fail");
    Pstatus_fail=(float *)(&c->value.s);
    c=create_context("vdd:V");
    Pvdd_V=(float *)(&c->value.s);
    c=create_context("0:V");
    P0_V=(float *)(&c->value.s);
    c=create_context("look_up_tables:pch");
    Plook_up_tables_pch=(float *)(&c->value.s);
    c=create_context("look_up_tables:nch");
    Plook_up_tables_nch=(float *)(&c->value.s);
    c=create_context("property:Adc");
    Pproperty_Adc=(float *)(&c->value.s);
    c=create_context("property:CMRR");
    Pproperty_CMRR=(float *)(&c->value.s);
    c=create_context("property:PSRR");
    Pproperty_PSRR=(float *)(&c->value.s);
    c=create_context("property:Rout");
    Pproperty_Rout=(float *)(&c->value.s);
    c=create_context("property:BW");
    Pproperty_BW=(float *)(&c->value.s);
    c=create_context("property:ts");
    Pproperty_ts=(float *)(&c->value.s);
    c=create_context("property:Cin");
    Pproperty_Cin=(float *)(&c->value.s);
    c=create_context("property:PM");
    Pproperty_PM=(float *)(&c->value.s);
    c=create_context("property:Nt");
    Pproperty_Nt=(float *)(&c->value.s);
    c=create_context("property:Nf");
    Pproperty_Nf=(float *)(&c->value.s);
    c=create_context("property:fc");
    Pproperty_fc=(float *)(&c->value.s);
    c=create_context("property:TotalNoise");
    Pproperty_TotalNoise=(float *)(&c->value.s);
    c=create_context("property:Area");
    Pproperty_Area=(float *)(&c->value.s);
    c=create_context("property:Vos");
    Pproperty_Vos=(float *)(&c->value.s);
    c=create_context("property:Power");
    Pproperty_Power=(float *)(&c->value.s);
    Pdiffpair_nmos_circuits_PAT=(float *)get_PAT("diffpair_nmos:circuits");
    c=create_context("diffpair_nmos:config:pat_size_target");
    Pdiffpair_nmos_config_pat_size_target=(float *)(&c->value.s);
    c=create_context("size:iref:min");
    Psize_iref_min=(float *)(&c->value.s);
    c=create_context("size:iref:max");
    Psize_iref_max=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:size:iref");
    Pdiffpair_nmos_size_iref=(float *)(&c->value.s);
    c=create_context("size:Lp:min");
    Psize_Lp_min=(float *)(&c->value.s);
    c=create_context("size:Lp:max");
    Psize_Lp_max=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:size:Lp");
    Pdiffpair_nmos_size_Lp=(float *)(&c->value.s);
    c=create_context("size:Wp:max");
    Psize_Wp_max=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:size:Wp");
    Pdiffpair_nmos_size_Wp=(float *)(&c->value.s);
    c=create_context("size:Ln:min");
    Psize_Ln_min=(float *)(&c->value.s);
    c=create_context("size:Ln:max");
    Psize_Ln_max=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:size:Ln");
    Pdiffpair_nmos_size_Ln=(float *)(&c->value.s);
    c=create_context("size:Wn:max");
    Psize_Wn_max=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:size:Wn");
    Pdiffpair_nmos_size_Wn=(float *)(&c->value.s);
    c=create_context("size:Ls:min");
    Psize_Ls_min=(float *)(&c->value.s);
    c=create_context("size:Ls:max");
    Psize_Ls_max=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:size:Ls");
    Pdiffpair_nmos_size_Ls=(float *)(&c->value.s);
    c=create_context("size:iref:step");
    Psize_iref_step=(float *)(&c->value.s);
    c=create_context("size:Lp:step");
    Psize_Lp_step=(float *)(&c->value.s);
    c=create_context("size:Wp:step");
    Psize_Wp_step=(float *)(&c->value.s);
    c=create_context("size:Ln:step");
    Psize_Ln_step=(float *)(&c->value.s);
    c=create_context("size:Wn:step");
    Psize_Wn_step=(float *)(&c->value.s);
    c=create_context("size:Ls:step");
    Psize_Ls_step=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:max_Adc");
    Pdiffpair_nmos_max_Adc=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:param:unique");
    Pdiffpair_nmos_param_unique=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:pat_size_target");
    Pdiffpair_nmos_pat_size_target=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:size:iref:step");
    Pdiffpair_nmos_size_iref_step=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:size:Lp:step");
    Pdiffpair_nmos_size_Lp_step=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:size:Wp:step");
    Pdiffpair_nmos_size_Wp_step=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:size:Ln:step");
    Pdiffpair_nmos_size_Ln_step=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:size:Wn:step");
    Pdiffpair_nmos_size_Wn_step=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:size:Ls:step");
    Pdiffpair_nmos_size_Ls_step=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:mode:freash_op");
    Pdiffpair_nmos_mode_freash_op=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:status:index");
    Pdiffpair_nmos_status_index=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:size:iref");
    Pdiffpair_nmos_config_size_iref=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:size:Lp");
    Pdiffpair_nmos_config_size_Lp=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:size:Wp");
    Pdiffpair_nmos_config_size_Wp=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:size:Ln");
    Pdiffpair_nmos_config_size_Ln=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:size:Wn");
    Pdiffpair_nmos_config_size_Wn=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:size:Ls");
    Pdiffpair_nmos_config_size_Ls=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:vdd:V");
    Pdiffpair_nmos_vdd_V=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:0:V");
    Pdiffpair_nmos_0_V=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:status:fail");
    Pdiffpair_nmos_status_fail=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:design_feedback");
    Pdiffpair_nmos_design_feedback=(float *)(&c->value.s);
    c=create_context("p_1:bin");
    Pp_1_bin=(float *)(&c->value.s);
    c=create_context("p_1:W");
    Pp_1_W=(float *)(&c->value.s);
    c=create_context("p_1:L");
    Pp_1_L=(float *)(&c->value.s);
    Plook_up_tables_pch_binning_LUT=(float *)get_LUT("pch:binning");
    c=create_context("p_2:bin");
    Pp_2_bin=(float *)(&c->value.s);
    c=create_context("p_2:W");
    Pp_2_W=(float *)(&c->value.s);
    c=create_context("p_2:L");
    Pp_2_L=(float *)(&c->value.s);
    c=create_context("nin_1:bin");
    Pnin_1_bin=(float *)(&c->value.s);
    c=create_context("nin_1:W");
    Pnin_1_W=(float *)(&c->value.s);
    c=create_context("nin_1:L");
    Pnin_1_L=(float *)(&c->value.s);
    Plook_up_tables_nch_binning_LUT=(float *)get_LUT("nch:binning");
    c=create_context("nin_2:bin");
    Pnin_2_bin=(float *)(&c->value.s);
    c=create_context("nin_2:W");
    Pnin_2_W=(float *)(&c->value.s);
    c=create_context("nin_2:L");
    Pnin_2_L=(float *)(&c->value.s);
    c=create_context("ntail:bin");
    Pntail_bin=(float *)(&c->value.s);
    c=create_context("ntail:W");
    Pntail_W=(float *)(&c->value.s);
    c=create_context("ntail:L");
    Pntail_L=(float *)(&c->value.s);
    c=create_context("nref:bin");
    Pnref_bin=(float *)(&c->value.s);
    c=create_context("nref:W");
    Pnref_W=(float *)(&c->value.s);
    c=create_context("nref:L");
    Pnref_L=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:leak");
    Pdiffpair_nmos_leak=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:op_iterations");
    Pdiffpair_nmos_config_op_iterations=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:kcl_th");
    Pdiffpair_nmos_config_kcl_th=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:design_feedback_th");
    Pdiffpair_nmos_config_design_feedback_th=(float *)(&c->value.s);
    c=create_context("outp:V");
    Poutp_V=(float *)(&c->value.s);
    c=create_context("p_1:go");
    Pp_1_go=(float *)(&c->value.s);
    c=create_context("p_1:gm");
    Pp_1_gm=(float *)(&c->value.s);
    c=create_context("p_1:gb");
    Pp_1_gb=(float *)(&c->value.s);
    c=create_context("p_1:Ids");
    Pp_1_Ids=(float *)(&c->value.s);
    c=create_context("outm:V");
    Poutm_V=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:look_up_tables:pch:go:ss");
    Pdiffpair_nmos_look_up_tables_pch_go_ss_CONTEXT=(float *)&c;
    c=create_context("diffpair_nmos:look_up_tables:pch:gm:ss");
    Pdiffpair_nmos_look_up_tables_pch_gm_ss_CONTEXT=(float *)&c;
    c=create_context("diffpair_nmos:look_up_tables:pch:gb:ss");
    Pdiffpair_nmos_look_up_tables_pch_gb_ss_CONTEXT=(float *)&c;
    c=create_context("diffpair_nmos:look_up_tables:pch:Ids:ss");
    Pdiffpair_nmos_look_up_tables_pch_Ids_ss_CONTEXT=(float *)&c;
    c=create_context("p_2:go");
    Pp_2_go=(float *)(&c->value.s);
    c=create_context("p_2:gm");
    Pp_2_gm=(float *)(&c->value.s);
    c=create_context("p_2:gb");
    Pp_2_gb=(float *)(&c->value.s);
    c=create_context("p_2:Ids");
    Pp_2_Ids=(float *)(&c->value.s);
    c=create_context("tail:V");
    Ptail_V=(float *)(&c->value.s);
    c=create_context("nin_1:go");
    Pnin_1_go=(float *)(&c->value.s);
    c=create_context("nin_1:gm");
    Pnin_1_gm=(float *)(&c->value.s);
    c=create_context("nin_1:gb");
    Pnin_1_gb=(float *)(&c->value.s);
    c=create_context("nin_1:Ids");
    Pnin_1_Ids=(float *)(&c->value.s);
    c=create_context("inp:V");
    Pinp_V=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:look_up_tables:nch:go:ss");
    Pdiffpair_nmos_look_up_tables_nch_go_ss_CONTEXT=(float *)&c;
    c=create_context("diffpair_nmos:look_up_tables:nch:gm:ss");
    Pdiffpair_nmos_look_up_tables_nch_gm_ss_CONTEXT=(float *)&c;
    c=create_context("diffpair_nmos:look_up_tables:nch:gb:ss");
    Pdiffpair_nmos_look_up_tables_nch_gb_ss_CONTEXT=(float *)&c;
    c=create_context("diffpair_nmos:look_up_tables:nch:Ids:ss");
    Pdiffpair_nmos_look_up_tables_nch_Ids_ss_CONTEXT=(float *)&c;
    c=create_context("nin_2:go");
    Pnin_2_go=(float *)(&c->value.s);
    c=create_context("nin_2:gm");
    Pnin_2_gm=(float *)(&c->value.s);
    c=create_context("nin_2:gb");
    Pnin_2_gb=(float *)(&c->value.s);
    c=create_context("nin_2:Ids");
    Pnin_2_Ids=(float *)(&c->value.s);
    c=create_context("inn:V");
    Pinn_V=(float *)(&c->value.s);
    c=create_context("vbias:V");
    Pvbias_V=(float *)(&c->value.s);
    c=create_context("ntail:go");
    Pntail_go=(float *)(&c->value.s);
    c=create_context("ntail:gm");
    Pntail_gm=(float *)(&c->value.s);
    c=create_context("ntail:gb");
    Pntail_gb=(float *)(&c->value.s);
    c=create_context("ntail:Ids");
    Pntail_Ids=(float *)(&c->value.s);
    c=create_context("nref:go");
    Pnref_go=(float *)(&c->value.s);
    c=create_context("nref:gm");
    Pnref_gm=(float *)(&c->value.s);
    c=create_context("nref:gb");
    Pnref_gb=(float *)(&c->value.s);
    c=create_context("nref:Ids");
    Pnref_Ids=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:kcl_step");
    Pdiffpair_nmos_config_kcl_step=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:property:Adc");
    Pdiffpair_nmos_property_Adc=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:property:CMRR");
    Pdiffpair_nmos_property_CMRR=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:property:PSRR");
    Pdiffpair_nmos_property_PSRR=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:fail_on_properties");
    Pdiffpair_nmos_config_fail_on_properties=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:property:Rout");
    Pdiffpair_nmos_property_Rout=(float *)(&c->value.s);
    c=create_context("p_2:cgg");
    Pp_2_cgg=(float *)(&c->value.s);
    c=create_context("p_2:cgd");
    Pp_2_cgd=(float *)(&c->value.s);
    c=create_context("p_2:cdg");
    Pp_2_cdg=(float *)(&c->value.s);
    c=create_context("p_2:cdd");
    Pp_2_cdd=(float *)(&c->value.s);
    c=create_context("p_1:cgg");
    Pp_1_cgg=(float *)(&c->value.s);
    c=create_context("p_1:cgd");
    Pp_1_cgd=(float *)(&c->value.s);
    c=create_context("p_1:cdg");
    Pp_1_cdg=(float *)(&c->value.s);
    c=create_context("p_1:cdd");
    Pp_1_cdd=(float *)(&c->value.s);
    c=create_context("ntail:cgg");
    Pntail_cgg=(float *)(&c->value.s);
    c=create_context("ntail:cgd");
    Pntail_cgd=(float *)(&c->value.s);
    c=create_context("ntail:cdg");
    Pntail_cdg=(float *)(&c->value.s);
    c=create_context("ntail:cdd");
    Pntail_cdd=(float *)(&c->value.s);
    c=create_context("nref:cgg");
    Pnref_cgg=(float *)(&c->value.s);
    c=create_context("nref:cgd");
    Pnref_cgd=(float *)(&c->value.s);
    c=create_context("nref:cdg");
    Pnref_cdg=(float *)(&c->value.s);
    c=create_context("nref:cdd");
    Pnref_cdd=(float *)(&c->value.s);
    c=create_context("nin_2:css");
    Pnin_2_css=(float *)(&c->value.s);
    c=create_context("nin_2:csd");
    Pnin_2_csd=(float *)(&c->value.s);
    c=create_context("nin_2:cds");
    Pnin_2_cds=(float *)(&c->value.s);
    c=create_context("nin_2:cdd");
    Pnin_2_cdd=(float *)(&c->value.s);
    c=create_context("nin_1:css");
    Pnin_1_css=(float *)(&c->value.s);
    c=create_context("nin_1:csd");
    Pnin_1_csd=(float *)(&c->value.s);
    c=create_context("nin_1:cds");
    Pnin_1_cds=(float *)(&c->value.s);
    c=create_context("nin_1:cdd");
    Pnin_1_cdd=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:property:BW");
    Pdiffpair_nmos_property_BW=(float *)(&c->value.s);
    c=create_context("s");
    Ps=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:property:BW:s");
    Pdiffpair_nmos_property_BW_s=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:p1");
    Pdiffpair_nmos_p1=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:p2");
    Pdiffpair_nmos_p2=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:property:ts");
    Pdiffpair_nmos_property_ts=(float *)(&c->value.s);
    c=create_context("nin_1:cgs");
    Pnin_1_cgs=(float *)(&c->value.s);
    c=create_context("nin_1:cgd");
    Pnin_1_cgd=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:property:Cin");
    Pdiffpair_nmos_property_Cin=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:property:PM");
    Pdiffpair_nmos_property_PM=(float *)(&c->value.s);
    c=create_context("p_1:dNt_dvgs");
    Pp_1_dNt_dvgs=(float *)(&c->value.s);
    c=create_context("p_1:dNt_dvds");
    Pp_1_dNt_dvds=(float *)(&c->value.s);
    c=create_context("p_1:dNt_dvbs");
    Pp_1_dNt_dvbs=(float *)(&c->value.s);
    c=create_context("p_1:dNt_dl");
    Pp_1_dNt_dl=(float *)(&c->value.s);
    c=create_context("p_1:Nt_unit");
    Pp_1_Nt_unit=(float *)(&c->value.s);
    P_look_up_tables_pch_thermal_noise_ss_LUT=(float *)get_LUT(":look_up_tables:pch:thermal_noise:ss");
    c=create_context("p_1:Nt");
    Pp_1_Nt=(float *)(&c->value.s);
    c=create_context("p_1:dNf_dvgs");
    Pp_1_dNf_dvgs=(float *)(&c->value.s);
    c=create_context("p_1:dNf_dvds");
    Pp_1_dNf_dvds=(float *)(&c->value.s);
    c=create_context("p_1:dNf_dvbs");
    Pp_1_dNf_dvbs=(float *)(&c->value.s);
    c=create_context("p_1:dNf_dl");
    Pp_1_dNf_dl=(float *)(&c->value.s);
    c=create_context("p_1:Nf_unit");
    Pp_1_Nf_unit=(float *)(&c->value.s);
    P_look_up_tables_pch_flicker_noise_ss_LUT=(float *)get_LUT(":look_up_tables:pch:flicker_noise:ss");
    c=create_context("p_1:Nf");
    Pp_1_Nf=(float *)(&c->value.s);
    c=create_context("p_2:dNt_dvgs");
    Pp_2_dNt_dvgs=(float *)(&c->value.s);
    c=create_context("p_2:dNt_dvds");
    Pp_2_dNt_dvds=(float *)(&c->value.s);
    c=create_context("p_2:dNt_dvbs");
    Pp_2_dNt_dvbs=(float *)(&c->value.s);
    c=create_context("p_2:dNt_dl");
    Pp_2_dNt_dl=(float *)(&c->value.s);
    c=create_context("p_2:Nt_unit");
    Pp_2_Nt_unit=(float *)(&c->value.s);
    c=create_context("p_2:Nt");
    Pp_2_Nt=(float *)(&c->value.s);
    c=create_context("p_2:dNf_dvgs");
    Pp_2_dNf_dvgs=(float *)(&c->value.s);
    c=create_context("p_2:dNf_dvds");
    Pp_2_dNf_dvds=(float *)(&c->value.s);
    c=create_context("p_2:dNf_dvbs");
    Pp_2_dNf_dvbs=(float *)(&c->value.s);
    c=create_context("p_2:dNf_dl");
    Pp_2_dNf_dl=(float *)(&c->value.s);
    c=create_context("p_2:Nf_unit");
    Pp_2_Nf_unit=(float *)(&c->value.s);
    c=create_context("p_2:Nf");
    Pp_2_Nf=(float *)(&c->value.s);
    c=create_context("nin_1:dNt_dvgs");
    Pnin_1_dNt_dvgs=(float *)(&c->value.s);
    c=create_context("nin_1:dNt_dvds");
    Pnin_1_dNt_dvds=(float *)(&c->value.s);
    c=create_context("nin_1:dNt_dvbs");
    Pnin_1_dNt_dvbs=(float *)(&c->value.s);
    c=create_context("nin_1:dNt_dl");
    Pnin_1_dNt_dl=(float *)(&c->value.s);
    c=create_context("nin_1:Nt_unit");
    Pnin_1_Nt_unit=(float *)(&c->value.s);
    P_look_up_tables_nch_thermal_noise_ss_LUT=(float *)get_LUT(":look_up_tables:nch:thermal_noise:ss");
    c=create_context("nin_1:Nt");
    Pnin_1_Nt=(float *)(&c->value.s);
    c=create_context("nin_1:dNf_dvgs");
    Pnin_1_dNf_dvgs=(float *)(&c->value.s);
    c=create_context("nin_1:dNf_dvds");
    Pnin_1_dNf_dvds=(float *)(&c->value.s);
    c=create_context("nin_1:dNf_dvbs");
    Pnin_1_dNf_dvbs=(float *)(&c->value.s);
    c=create_context("nin_1:dNf_dl");
    Pnin_1_dNf_dl=(float *)(&c->value.s);
    c=create_context("nin_1:Nf_unit");
    Pnin_1_Nf_unit=(float *)(&c->value.s);
    P_look_up_tables_nch_flicker_noise_ss_LUT=(float *)get_LUT(":look_up_tables:nch:flicker_noise:ss");
    c=create_context("nin_1:Nf");
    Pnin_1_Nf=(float *)(&c->value.s);
    c=create_context("nin_2:dNt_dvgs");
    Pnin_2_dNt_dvgs=(float *)(&c->value.s);
    c=create_context("nin_2:dNt_dvds");
    Pnin_2_dNt_dvds=(float *)(&c->value.s);
    c=create_context("nin_2:dNt_dvbs");
    Pnin_2_dNt_dvbs=(float *)(&c->value.s);
    c=create_context("nin_2:dNt_dl");
    Pnin_2_dNt_dl=(float *)(&c->value.s);
    c=create_context("nin_2:Nt_unit");
    Pnin_2_Nt_unit=(float *)(&c->value.s);
    c=create_context("nin_2:Nt");
    Pnin_2_Nt=(float *)(&c->value.s);
    c=create_context("nin_2:dNf_dvgs");
    Pnin_2_dNf_dvgs=(float *)(&c->value.s);
    c=create_context("nin_2:dNf_dvds");
    Pnin_2_dNf_dvds=(float *)(&c->value.s);
    c=create_context("nin_2:dNf_dvbs");
    Pnin_2_dNf_dvbs=(float *)(&c->value.s);
    c=create_context("nin_2:dNf_dl");
    Pnin_2_dNf_dl=(float *)(&c->value.s);
    c=create_context("nin_2:Nf_unit");
    Pnin_2_Nf_unit=(float *)(&c->value.s);
    c=create_context("nin_2:Nf");
    Pnin_2_Nf=(float *)(&c->value.s);
    c=create_context("ntail:dNt_dvgs");
    Pntail_dNt_dvgs=(float *)(&c->value.s);
    c=create_context("ntail:dNt_dvds");
    Pntail_dNt_dvds=(float *)(&c->value.s);
    c=create_context("ntail:dNt_dvbs");
    Pntail_dNt_dvbs=(float *)(&c->value.s);
    c=create_context("ntail:dNt_dl");
    Pntail_dNt_dl=(float *)(&c->value.s);
    c=create_context("ntail:Nt_unit");
    Pntail_Nt_unit=(float *)(&c->value.s);
    c=create_context("ntail:Nt");
    Pntail_Nt=(float *)(&c->value.s);
    c=create_context("ntail:dNf_dvgs");
    Pntail_dNf_dvgs=(float *)(&c->value.s);
    c=create_context("ntail:dNf_dvds");
    Pntail_dNf_dvds=(float *)(&c->value.s);
    c=create_context("ntail:dNf_dvbs");
    Pntail_dNf_dvbs=(float *)(&c->value.s);
    c=create_context("ntail:dNf_dl");
    Pntail_dNf_dl=(float *)(&c->value.s);
    c=create_context("ntail:Nf_unit");
    Pntail_Nf_unit=(float *)(&c->value.s);
    c=create_context("ntail:Nf");
    Pntail_Nf=(float *)(&c->value.s);
    c=create_context("nref:dNt_dvgs");
    Pnref_dNt_dvgs=(float *)(&c->value.s);
    c=create_context("nref:dNt_dvds");
    Pnref_dNt_dvds=(float *)(&c->value.s);
    c=create_context("nref:dNt_dvbs");
    Pnref_dNt_dvbs=(float *)(&c->value.s);
    c=create_context("nref:dNt_dl");
    Pnref_dNt_dl=(float *)(&c->value.s);
    c=create_context("nref:Nt_unit");
    Pnref_Nt_unit=(float *)(&c->value.s);
    c=create_context("nref:Nt");
    Pnref_Nt=(float *)(&c->value.s);
    c=create_context("nref:dNf_dvgs");
    Pnref_dNf_dvgs=(float *)(&c->value.s);
    c=create_context("nref:dNf_dvds");
    Pnref_dNf_dvds=(float *)(&c->value.s);
    c=create_context("nref:dNf_dvbs");
    Pnref_dNf_dvbs=(float *)(&c->value.s);
    c=create_context("nref:dNf_dl");
    Pnref_dNf_dl=(float *)(&c->value.s);
    c=create_context("nref:Nf_unit");
    Pnref_Nf_unit=(float *)(&c->value.s);
    c=create_context("nref:Nf");
    Pnref_Nf=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:property:Nt");
    Pdiffpair_nmos_property_Nt=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:property:Nf");
    Pdiffpair_nmos_property_Nf=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:property:fc");
    Pdiffpair_nmos_property_fc=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:property:TotalNoise");
    Pdiffpair_nmos_property_TotalNoise=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:property:Area");
    Pdiffpair_nmos_property_Area=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:property:Vos");
    Pdiffpair_nmos_property_Vos=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:property:Power");
    Pdiffpair_nmos_property_Power=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:shift:Adc");
    Pdiffpair_nmos_config_shift_Adc=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:factor:Adc");
    Pdiffpair_nmos_config_factor_Adc=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:shift:CMRR");
    Pdiffpair_nmos_config_shift_CMRR=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:factor:CMRR");
    Pdiffpair_nmos_config_factor_CMRR=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:shift:PSRR");
    Pdiffpair_nmos_config_shift_PSRR=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:factor:PSRR");
    Pdiffpair_nmos_config_factor_PSRR=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:shift:Rout");
    Pdiffpair_nmos_config_shift_Rout=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:factor:Rout");
    Pdiffpair_nmos_config_factor_Rout=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:shift:BW");
    Pdiffpair_nmos_config_shift_BW=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:factor:BW");
    Pdiffpair_nmos_config_factor_BW=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:shift:ts");
    Pdiffpair_nmos_config_shift_ts=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:factor:ts");
    Pdiffpair_nmos_config_factor_ts=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:shift:Cin");
    Pdiffpair_nmos_config_shift_Cin=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:factor:Cin");
    Pdiffpair_nmos_config_factor_Cin=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:shift:PM");
    Pdiffpair_nmos_config_shift_PM=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:factor:PM");
    Pdiffpair_nmos_config_factor_PM=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:shift:Nt");
    Pdiffpair_nmos_config_shift_Nt=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:factor:Nt");
    Pdiffpair_nmos_config_factor_Nt=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:shift:Nf");
    Pdiffpair_nmos_config_shift_Nf=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:factor:Nf");
    Pdiffpair_nmos_config_factor_Nf=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:shift:fc");
    Pdiffpair_nmos_config_shift_fc=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:factor:fc");
    Pdiffpair_nmos_config_factor_fc=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:shift:TotalNoise");
    Pdiffpair_nmos_config_shift_TotalNoise=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:factor:TotalNoise");
    Pdiffpair_nmos_config_factor_TotalNoise=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:shift:Area");
    Pdiffpair_nmos_config_shift_Area=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:factor:Area");
    Pdiffpair_nmos_config_factor_Area=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:shift:Vos");
    Pdiffpair_nmos_config_shift_Vos=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:factor:Vos");
    Pdiffpair_nmos_config_factor_Vos=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:shift:Power");
    Pdiffpair_nmos_config_shift_Power=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:config:factor:Power");
    Pdiffpair_nmos_config_factor_Power=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:circuit_breed_id");
    Pdiffpair_nmos_circuit_breed_id=(float *)(&c->value.s);
    c=create_context("diffpair_nmos:circuit_breed_target");
    Pdiffpair_nmos_circuit_breed_target=(float *)(&c->value.s);
    
    return TCL_OK;
}
int Gamma_diffpair_nmos_Register(Tcl_Interp *interp) {
    Tcl_CreateCommand(interp, "::Gamma::diffpair_nmos::heatmap", tcl_gamma_diffpair_nmos_heatmap_cmd, NULL, NULL);
    Tcl_CreateCommand(interp, "::Gamma::diffpair_nmos::random", tcl_gamma_diffpair_nmos_random_cmd, NULL, NULL);
    Tcl_CreateCommand(interp, "::Gamma::diffpair_nmos::random_breed", tcl_gamma_diffpair_nmos_random_breed_cmd, NULL, NULL);
    Tcl_CreateCommand(interp, "::Gamma::diffpair_nmos::random_breed_single", tcl_gamma_diffpair_nmos_random_breed_single_cmd, NULL, NULL);
    Tcl_CreateCommand(interp, "::Gamma::diffpair_nmos::breed", tcl_gamma_diffpair_nmos_breed_cmd, NULL, NULL);
    Tcl_CreateCommand(interp, "::Gamma::diffpair_nmos::op", tcl_gamma_diffpair_nmos_op_cmd, NULL, NULL);
    Tcl_CreateCommand(interp, "::Gamma::diffpair_nmos::import", tcl_gamma_diffpair_nmos_import_cmd, NULL, NULL);
    Tcl_CreateCommand(interp, "::Gamma::diffpair_nmos::export", tcl_gamma_diffpair_nmos_export_cmd, NULL, NULL);
    return TCL_OK;
}

